module.exports=runCommand;const path=require("path"),{existsSync,copyFileSync}=require("fs"),reporter=require("./reporter"),{ENGINES_DIR}=require("./utils");async function runCommand(a,b){const c=existsSync(path.join(process.cwd(),`yarn.lock`)),d=require(path.join(process.cwd(),`package.json`)),e=path.resolve(__dirname,`../${ENGINES_DIR}/package.json`);copyFileSync(path.resolve("package.json"),e),process.chdir(path.resolve(__dirname,"..",ENGINES_DIR));const f=path.resolve("."),g=require(`gatsby/dist/commands/${a}.js`);reporter.info(`starting Redocly Portal development server`),process.env.gatsby_executing_command=a,process.env.NODE_ENV="build"===a?"production":process.env.NODE_ENV||"development",await g({directory:f,browserList:[`>0.25%`,`not dead`],sitePackageJson:d,verbose:!1,...b},reporter,c)}