import*as React from"react";import{Box,H1,Button,Flex,Alert,Typography}from"../../ui";import{Container}from"../components/common-elements/styled.elements";import AppsList from"../components/AppsList";import CircularProgress from"../components/common-elements/CircularProgress";import{APIClientContext}from"../services/APIClientProvider";import{useQuery}from"react-query";import{QUERY_KEY_APPS}from"../services/config";import ProtectedRoute from"./ProtectedRoute";export function AppsPage(){return React.createElement(ProtectedRoute,{component:React.createElement(AppsPageInternal,null)})}function AppsPageInternal(){const{apiClient:a}=React.useContext(APIClientContext),{isLoading:b,error:c,data:d}=useQuery(QUERY_KEY_APPS,()=>a?.getDeveloperApps());return React.createElement(Box,{mb:"4em",mt:"4em"},React.createElement(Container,null,React.createElement(Flex,{justifyContent:"space-between",alignItems:"center",mb:"2em"},React.createElement(H1,{mt:"0",mb:"0"},"My apps"),React.createElement(Button,{color:"primary",to:"/create-app"},"Create new app")),c&&React.createElement(Alert,{variant:"danger",content:c.message}),b?React.createElement(Flex,{justifyContent:"center"},React.createElement(CircularProgress,null)):!c&&d?.app?.length?React.createElement(AppsList,{apps:d.app}):React.createElement(Typography,null,"There are no apps yet.")))}