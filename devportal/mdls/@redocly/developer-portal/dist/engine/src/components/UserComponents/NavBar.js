import*as React from"react";import{useScrollLock}from"../../hooks";import{SearchBox}from"../SearchBox/SearchBox";import{UniversalLink}from"../UniversalLink/UniversalLink";import{LoginMenu}from"./LoginMenu";import{Logo,LogoLink,NavItems,NavItem,NavIcon,NavControls,MobileMenuIcon,MobileMenu,CloseIcon,MobileLogo,MobileMenuItem}from"./navbar.elements";import{NavBarWrapper}from"./navbar.elements";export default function UserNavBar(a){const[b,c]=React.useState(!1),d=()=>c(!1);useScrollLock(b),React.useEffect(()=>{d()},[a.location.pathname]);const{items:k=[],logo:e,href:l="/",altText:f,pathPrefix:g,standalone:h,location:i,className:j}=a,m=function(b,c){return a.sidebarName===b.activateWithSidebar||b.link===i.pathname&&!c.some(b=>b.activateWithSidebar===a.sidebarName)};return React.createElement(NavBarWrapper,{className:j,standalone:h,id:"navbar"},React.createElement(LogoLink,{to:l},React.createElement(Logo,{src:e,alt:f})),React.createElement(NavItems,null,k.map((a,b)=>"search"===a.type?React.createElement(SearchBox,{pathPrefix:g,key:b,location:i}):React.createElement(NavItem,{key:b,"data-cy":a.label,active:m(a,k)},React.createElement(UniversalLink,{to:a.link,target:a.target,external:a.external},React.createElement(React.Fragment,null,a.icon?React.createElement(NavIcon,{url:a.icon}):null,React.createElement("span",{style:{verticalAlign:"middle"}},a.label))))),React.createElement(LoginMenu,null)),React.createElement(NavControls,null,React.createElement(MobileMenuIcon,{onClick:()=>c(!b)})),React.createElement(MobileMenu,{isShown:b},React.createElement(CloseIcon,{onClick:d}),React.createElement(UniversalLink,{to:l},React.createElement(MobileLogo,{src:e,alt:f})),k.map((a,c)=>"search"===a.type?b&&React.createElement(SearchBox,{pathPrefix:g,key:c})||null:React.createElement(MobileMenuItem,{key:`mobile-menu-${c}`,onClick:d},React.createElement(UniversalLink,{to:a.link,target:a.target,external:a.external},a.label))),React.createElement(LoginMenu,{mobile:!0})))}