import*as React from"react";import{ProProviders,Console}from"@redocly/reference-docs";import{Alert}from"../../ui";import{GetStore}from"../../layouts/MarkdownLayout";import{getOperation}from"../../helpers";import{CodeSampleWrap}from"./styled.elements";import{RedocStepByStepContext}from"./StepByStepWrapper";const shouldShowPlaceholder=(a,b)=>a.some(a=>void 0===b[a]);export const OpenApiTryIt=({definitionId:a,operationId:b,pointer:c,defaultExample:d,parameters:e,properties:f,options:m={},onResponse:g,securityDefaults:h,id:i,needs:j,placeholder:k,serverVariables:l})=>{const{operationsResults:n,updateOperationResult:o}=React.useContext(RedocStepByStepContext),p=j?.map(a=>n[a]);if(k&&j?.length&&n&&shouldShowPlaceholder(j,n))return k.apply(null,p);const q="function"==typeof e?e.apply(null,p):e,r="function"==typeof f?f.apply(null,p):f,s="function"==typeof l?l.apply(null,p):l,t="function"==typeof h?h.apply(null,p):h,u=a=>{i&&o(i,a),g?.(a)};return React.createElement(CodeSampleWrap,null,React.createElement(GetStore,{definitionId:a},e=>{const f={...e.options,...m},g=getOperation(e.definition.parser,{operationId:b,pointer:c},f,q,d,void 0,s);return g?React.createElement(ProProviders,{store:e,customOptions:m},React.createElement(Console,{store:e,operation:g,properties:r,onResponse:u,securityDefaults:t})):React.createElement(Alert,{variant:"danger",content:`Cannot find specified operation in definition: ${a}`})}))};