import{__makeTemplateObject}from"tslib";import*as React from"react";import{serializeParameterValue,styled}from"../../redoc-lib";import{CodeHeader}from"../Panel";import{Path,PathWrapper}from"../Endpoint/Path";import{HttpVerb,Button}from"../shared";import{expandVariables}from"./utils";function formatPath(e,t,n){var r=t.path||{},a=t.query||{},o=Object.keys(a),m=expandVariables(e,r);return o.length&&(m+="?"+o.map((function(e){if(!a[e])return"";var t=function(e){return n.find((function(t){return t.name===e&&"query"===t.in}))}(e);return t?serializeParameterValue(t,a[e]):e+"="+encodeURIComponent(a[e])})).filter(Boolean).join("&")),m}export var ActionPanelComponent=function(e){var t=e.loading,n=e.operation,r=e.hasResponse,a=e.execute,o=e.params,m=void 0===o?{}:o;return React.createElement(TryItHeader,null,React.createElement(PathWrapper,null,React.createElement(HttpVerb,{type:n.httpVerb},n.httpVerb),React.createElement(Path,{wrap:"true"},formatPath(n.path,m,n.parameters))),React.createElement(SendButton,{"data-cy":"send-button",color:"primary",blinking:t,onClick:function(){return!t&&a()}},t?"Sending...":r?"Resend":"Send"))};var templateObject_1,templateObject_2,SendButton=styled(Button)(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  width: ",";\n"],["\n  width: ",";\n"])),(function(e){return e.theme.components.tryItSendButton.fullWidth?"100%":"auto"})),TryItHeader=styled(CodeHeader)(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return e.theme.components.tryItSendButton.fullWidth?"\n    flex-direction: column;\n    align-items: flex-start;":""}));export var ActionPanel=React.memo(ActionPanelComponent);
//# sourceMappingURL=ActionPanel.js.map