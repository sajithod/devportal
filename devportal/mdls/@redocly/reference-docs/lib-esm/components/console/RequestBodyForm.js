import{__makeTemplateObject}from"tslib";import*as React from"react";import{observer}from"mobx-react";import{isMultipartFileUploadProperty,isRootFileUpload,mimeTypeToAccept}from"../common/FileUpload/helper";import{FormControl,FormLabel}from"../common/form";import{styled}from"../../redoc-lib";import{FileUpload}from"../common/FileUpload";import{FormTextField,invertedInputStyles}from"../common/TextField";import{DefinitionTypes,MediaTypes}from"../../models";export var RequestBodyForm=observer((function(e){var t,o,n,l,a,m=e.mediaType,r=e.onChange,i=((null===(o=null===(t=m.schema)||void 0===t?void 0:t.oneOf)||void 0===o?void 0:o.length)?(null===(n=m.schema)||void 0===n?void 0:n.oneOf[null===(l=m.schema)||void 0===l?void 0:l.activeOneOf].fields)||[]:(null===(a=m.schema)||void 0===a?void 0:a.fields)||[]).filter((function(e){return!e.schema.readOnly})),p=m.schema||{};return isRootFileUpload(p,m.name)?React.createElement(FileFormControlWrapper,null,React.createElement(FormControl,null,React.createElement(StyledFileUpload,{fullWidth:!0,id:"body."+m.name,name:"body."+m.name,accept:mimeTypeToAccept(m.name),schema:p,contentName:m.name,onChange:r}))):p.type===DefinitionTypes.OBJECT||i?React.createElement(FileFormControlWrapper,null,i.map((function(e){var t=e.schema||{},o=m.name===MediaTypes.MULTIPART&&isMultipartFileUploadProperty(t),n=t.contentMediaType||"",l=o?React.createElement(StyledFileUpload,{fullWidth:!0,id:"body."+e.name,name:"body."+e.name,accept:mimeTypeToAccept(n),multiple:"array"===t.type,schema:t,contentName:e.name,onChange:r}):React.createElement(FormTextField,{fullWidth:!0,id:"body."+e.name,field:"body."+e.name,placeholder:t.description||e.name});return React.createElement(FormControl,{key:e.name},React.createElement(FormLabel,null,e.name,":"),l)}))):(console.warn('Invalid schema for request body and mime type: "'+m.name+'"',p),null)}));var templateObject_1,templateObject_2,FileFormControlWrapper=styled.div(templateObject_1||(templateObject_1=__makeTemplateObject(["\n  > div {\n    margin-top: 10px;\n  }\n"],["\n  > div {\n    margin-top: 10px;\n  }\n"]))),StyledFileUpload=styled(FileUpload)(templateObject_2||(templateObject_2=__makeTemplateObject(["\n  ","\n  ",";\n  ","\n"],["\n  ","\n  ",";\n  ","\n"])),invertedInputStyles,(function(e){return"password"===e.inputType?"padding-right: 40px;":""}),(function(e){return e.fullWidth?"width: 100%;":""}));
//# sourceMappingURL=RequestBodyForm.js.map