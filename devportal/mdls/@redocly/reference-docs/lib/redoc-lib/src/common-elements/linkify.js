"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShareLink=exports.Link=exports.linkifyMixin=exports.userIsForcingNavigation=void 0;var tslib_1=require("tslib"),react_1=(0,tslib_1.__importStar)(require("react")),StoreBuilder_1=require("../components/StoreBuilder"),styled_components_1=(0,tslib_1.__importStar)(require("../styled-components")),utils_1=require("../utils"),icons_1=require("./icons");function userIsForcingNavigation(n){return 0!==n.button||n.altKey||n.ctrlKey||n.metaKey||n.shiftKey}exports.userIsForcingNavigation=userIsForcingNavigation;var linkifyMixin=function(n,i){return(0,styled_components_1.css)(templateObject_1||(templateObject_1=(0,tslib_1.__makeTemplateObject)(["\n  "," {\n    cursor: pointer;\n    line-height: inherit;\n    display: inline-block;\n    outline: 0;\n    position: absolute;\n    padding-right: 4px;\n    transform: translateX(-100%);\n  }\n\n  "," "," {\n    width: ",";\n    height: ",";\n    visibility: hidden;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  h1:hover\n    > ","\n    ",",\n    h2:hover\n    > ","\n    ",",\n    ",":hover\n    "," {\n    visibility: visible;\n  }\n\n  ",":focus "," {\n    visibility: visible;\n  }\n"],["\n  "," {\n    cursor: pointer;\n    line-height: inherit;\n    display: inline-block;\n    outline: 0;\n    position: absolute;\n    padding-right: 4px;\n    transform: translateX(-100%);\n  }\n\n  "," "," {\n    width: ",";\n    height: ",";\n    visibility: hidden;\n    display: inline-block;\n    vertical-align: middle;\n  }\n\n  h1:hover\n    > ","\n    ",",\n    h2:hover\n    > ","\n    ",",\n    ",":hover\n    "," {\n    visibility: visible;\n  }\n\n  ",":focus "," {\n    visibility: visible;\n  }\n"])),n,n,icons_1.LinkIcon,i,i,n,icons_1.LinkIcon,n,icons_1.LinkIcon,n,icons_1.LinkIcon,n,icons_1.LinkIcon)};function Link(n){var i,e,t,l,r,o=(0,react_1.useCallback)((function(i,e){e.defaultPrevented||userIsForcingNavigation(e)||(e.preventDefault(),i.replace(n.to))}),[n.to]),s=(0,StoreBuilder_1.useStore)(),a=null===(e=null==s?void 0:(i=s.menu.history).linkForId)||void 0===e?void 0:e.call(i,n.to);return n.to.startsWith(utils_1.SECURITY_SCHEMES_SECTION_PREFIX)&&(null===(t=null==s?void 0:s.options.hooks)||void 0===t?void 0:t.replaceSecurityLink)&&(a=null===(r=null===(l=s.options.hooks)||void 0===l?void 0:l.replaceSecurityLink)||void 0===r?void 0:r.call(l,{securityRequirementId:n.to.replace(utils_1.SECURITY_SCHEMES_SECTION_PREFIX,"")})),a?react_1.default.createElement("a",{className:n.className,href:a,onClick:o.bind(this,null==s?void 0:s.menu.history),"aria-label":n.to},n.children):n.children?react_1.default.createElement("div",{className:n.className}," ",n.children," "):null}exports.linkifyMixin=linkifyMixin,exports.Link=Link;var templateObject_1,templateObject_2,StyledShareLink=(0,styled_components_1.default)(Link)(templateObject_2||(templateObject_2=(0,tslib_1.__makeTemplateObject)(["\n  ",";\n"],["\n  ",";\n"])),(0,exports.linkifyMixin)("&","18px"));function ShareLink(n){return react_1.default.createElement(StyledShareLink,{to:n.to},react_1.default.createElement(icons_1.LinkIcon,null))}exports.ShareLink=ShareLink;
//# sourceMappingURL=linkify.js.map