"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FieldModel=void 0;var tslib_1=require("tslib"),mobx_1=require("mobx"),utils_1=require("../../utils"),Schema_1=require("./Schema"),Example_1=require("./Example"),utils_2=require("../../utils"),DEFAULT_SERIALIZATION={path:{style:"simple",explode:!1},query:{style:"form",explode:!0},header:{style:"simple",explode:!1},cookie:{style:"form",explode:!0}},FieldModel=function(){function e(e,i,t,l,r,a){var o,n,s,d,u;void 0===a&&(a={}),Object.defineProperty(this,"deps",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"expanded",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"example",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"deprecated",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"in",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kind",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extensions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"explode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"const",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serializationMime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fieldFullPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),(0,mobx_1.makeObservable)(this);var b=e.deref(i);this.kind=i.kind||"field",this.name=i.name||b.name,this.in=b.in,this.required=!!b.required;var p=b.schema,c="";!p&&b.in&&b.content&&(c=Object.keys(b.content)[0],p=b.content[c]&&b.content[c].schema),this.fieldFullPath=this.deps.parentFieldFullPath?this.deps.parentFieldFullPath+l.deepLinkSeparator+this.name:this.name,this.schema=new Schema_1.SchemaModel(e,p||{},t,l,!1,r,(0,tslib_1.__assign)((0,tslib_1.__assign)({},a),{parentFieldFullPath:this.fieldFullPath,in:this.in})),this.description=void 0===b.description?this.schema.description||"":b.description,this.example=b.example||this.schema.example,void 0!==b.examples&&(this.examples=(0,utils_2.mapValues)(b.examples,(function(i,t){return new Example_1.ExampleModel(e,i,t,b.encoding)}))),c?this.serializationMime=c:b.style?this.style=b.style:this.in&&(this.style=null!==(n=null===(o=DEFAULT_SERIALIZATION[this.in])||void 0===o?void 0:o.style)&&void 0!==n?n:"form"),void 0===b.explode&&this.in?this.explode=null===(d=null===(s=DEFAULT_SERIALIZATION[this.in])||void 0===s?void 0:s.explode)||void 0===d||d:this.explode=!!b.explode,this.deprecated=void 0===b.deprecated?this.schema.deprecated:b.deprecated,e.exitRef(i),l.showExtensions&&(this.extensions=(0,utils_1.extractExtensions)(b,l.showExtensions)),this.const=(null===(u=this.schema)||void 0===u?void 0:u.const)||(null==b?void 0:b.const)||""}return Object.defineProperty(e.prototype,"toggle",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.expanded=!this.expanded}}),Object.defineProperty(e.prototype,"collapse",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.expanded=!1}}),Object.defineProperty(e.prototype,"expand",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.expanded=!0}}),(0,tslib_1.__decorate)([mobx_1.observable],e.prototype,"expanded",void 0),(0,tslib_1.__decorate)([mobx_1.action],e.prototype,"toggle",null),(0,tslib_1.__decorate)([mobx_1.action],e.prototype,"collapse",null),(0,tslib_1.__decorate)([mobx_1.action],e.prototype,"expand",null),e}();exports.FieldModel=FieldModel;
//# sourceMappingURL=Field.js.map