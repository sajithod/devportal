"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Field=void 0;var tslib_1=require("tslib"),mobx_react_1=require("mobx-react"),React=(0,tslib_1.__importStar)(require("react")),fields_1=require("../../common-elements/fields"),FieldDetails_1=require("./FieldDetails"),fields_layout_1=require("../../common-elements/fields-layout"),common_elements_1=require("../../common-elements/"),LinkToField_1=require("../../common-elements/LinkToField"),Schema_1=require("../Schema/Schema"),OptionsProvider_1=require("../OptionsProvider"),Field=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"toggle",{enumerable:!0,configurable:!0,writable:!0,value:function(){void 0===t.props.field.expanded&&t.props.expandByDefault?t.props.field.collapse():t.props.field.toggle()}}),Object.defineProperty(t,"handleKeyPress",{enumerable:!0,configurable:!0,writable:!0,value:function(e){"Enter"===e.key&&(e.preventDefault(),t.toggle())}}),t}return(0,tslib_1.__extends)(t,e),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props,t=e.className,l=void 0===t?"":t,r=e.field,i=e.isLast,a=e.expandByDefault,n=r.name,s=r.deprecated,o=r.required,c=r.kind,d=!r.schema.isPrimitive&&!r.schema.isCircular,m=void 0===r.expanded?a:r.expanded,p=d?React.createElement(fields_1.ClickablePropertyNameCell,{className:s?"deprecated":"",kind:c,title:n},React.createElement("button",{onClick:this.toggle,onKeyPress:this.handleKeyPress,"aria-label":"expand properties"},React.createElement("span",{className:"field-name"},this.context.disableDeepLinks?null:React.createElement(LinkToField_1.ShareLinkToField,{field:r}),n),React.createElement(common_elements_1.ShelfIcon,{direction:m?"down":"right"})),o&&React.createElement(fields_1.RequiredLabel,null," required ")):React.createElement(fields_layout_1.PropertyNameCell,{className:s?"deprecated":void 0,kind:c,title:n},React.createElement("span",{className:"field-name"},this.context.disableDeepLinks?null:React.createElement(LinkToField_1.ShareLinkToField,{field:r}),n),o&&React.createElement(fields_1.RequiredLabel,null," required "));return React.createElement(React.Fragment,null,React.createElement("tr",{className:i?"last "+l:l},p,React.createElement(fields_layout_1.PropertyDetailsCell,null,React.createElement(FieldDetails_1.FieldDetails,(0,tslib_1.__assign)({},this.props)))),m&&d&&React.createElement("tr",{key:r.name+"inner"},React.createElement(fields_layout_1.PropertyCellWithInner,{colSpan:2},React.createElement(fields_layout_1.InnerPropertiesWrap,null,React.createElement(Schema_1.Schema,{schema:r.schema,skipReadOnly:this.props.skipReadOnly,skipWriteOnly:this.props.skipWriteOnly,showTitle:this.props.showTitle,level:this.props.level})))))}}),Object.defineProperty(t,"contextType",{enumerable:!0,configurable:!0,writable:!0,value:OptionsProvider_1.OptionsContext}),t=(0,tslib_1.__decorate)([mobx_react_1.observer],t)}(React.Component);exports.Field=Field;
//# sourceMappingURL=Field.js.map