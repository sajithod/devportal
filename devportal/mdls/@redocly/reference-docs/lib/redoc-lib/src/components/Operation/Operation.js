"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Operation=void 0;var templateObject_1,templateObject_2,tslib_1=require("tslib"),mobx_react_1=require("mobx-react"),React=(0,tslib_1.__importStar)(require("react")),Endpoint_1=require("../../../../components/Endpoint"),common_elements_1=require("../../common-elements"),common_elements_2=require("../../common-elements"),styled_components_1=(0,tslib_1.__importDefault)(require("../../styled-components")),Callbacks_1=require("../Callbacks"),CallbackSamples_1=require("../CallbackSamples/CallbackSamples"),ExternalDocumentation_1=require("../ExternalDocumentation/ExternalDocumentation"),Extensions_1=require("../Fields/Extensions"),Markdown_1=require("../Markdown/Markdown"),Parameters_1=require("../Parameters/Parameters"),RequestSamples_1=require("../RequestSamples/RequestSamples"),ResponsesList_1=require("../Responses/ResponsesList"),ResponseSamples_1=require("../ResponseSamples/ResponseSamples"),SecurityRequirement_1=require("../SecurityRequirement/SecurityRequirement"),StoreBuilder_1=require("../StoreBuilder"),Panel_1=require("../../../../components/Panel"),store_types_1=require("../../../../services/store-types"),helper_1=require("../helper"),languageSwitchEvent_1=require("../RequestSamples/languageSwitchEvent"),Labels_1=require("../../services/Labels"),OperationRow=(0,styled_components_1.default)(common_elements_1.Row)(templateObject_1||(templateObject_1=(0,tslib_1.__makeTemplateObject)(["\n  backface-visibility: hidden;\n  contain: content;\n  overflow: hidden;\n"],["\n  backface-visibility: hidden;\n  contain: content;\n  overflow: hidden;\n"]))),Description=styled_components_1.default.div(templateObject_2||(templateObject_2=(0,tslib_1.__makeTemplateObject)(["\n  margin-bottom: ","px;\n"],["\n  margin-bottom: ","px;\n"])),(function(e){return 4*e.theme.spacing.unit}));exports.Operation=(0,mobx_react_1.observer)((function(e){var t,n,a,l,o=e.operation,r=o.name,s=o.description,i=o.deprecated,c=o.externalDocs,p=o.isWebhook,m=e.operation,u=e.layout,_=React.useContext(StoreBuilder_1.StoreContext),d=!(!s&&!c),R=null==_?void 0:_.options.hooks,b=null==_?void 0:_.options.events,E=React.useCallback((function(e){var t,n=(0,languageSwitchEvent_1.creatPanelToggleEvent)({operation:m,isExpanded:e,panelType:"responses"});null===(t=null==b?void 0:b.panelToggle)||void 0===t||t.call(b,n)}),[b]),v=React.useCallback((function(e){var t,n=(0,languageSwitchEvent_1.creatPanelToggleEvent)({operation:m,isExpanded:e,panelType:"request"});null===(t=null==b?void 0:b.panelToggle)||void 0===t||t.call(b,n)}),[b]);return React.createElement(OperationRow,{layout:u},React.createElement(common_elements_1.MiddlePanel,{isStacked:u===store_types_1.LayoutVariant.STACKED},React.createElement(helper_1.RenderHook,{Hook:null==R?void 0:R.BeforeOperation,props:{operation:m}}),React.createElement(common_elements_1.H2,null,React.createElement(common_elements_2.ShareLink,{to:m.id}),React.createElement(helper_1.RenderHook,{Hook:null==R?void 0:R.BeforeOperationSummary,props:{operation:m}}),r,React.createElement(helper_1.RenderHook,{Hook:null==R?void 0:R.AfterOperationSummary,props:{operation:m}}),i&&React.createElement(common_elements_1.Badge,{type:"warning"},"Deprecated"),p&&React.createElement(common_elements_1.Badge,{type:"primary"},"Webhook")),(null==_?void 0:_.options.pathInMiddlePanel)&&!p&&React.createElement(Endpoint_1.Endpoint,{operation:m}),d&&React.createElement(Description,null,void 0!==s&&React.createElement(Markdown_1.Markdown,{source:s}),c&&React.createElement(ExternalDocumentation_1.ExternalDocumentation,{externalDocs:c}),Object.keys(m.extensions||{}).length?React.createElement(Extensions_1.Extensions,{extensions:m.extensions}):null),(null===(t=m.security)||void 0===t?void 0:t.length)||(null===(n=m.parameters)||void 0===n?void 0:n.length)||m.requestBody?React.createElement(Panel_1.ScrollableContentPanel,{header:(0,Labels_1.l)("request"),onToggle:v,expanded:_.options.expandDefaultRequest},React.createElement(SecurityRequirement_1.SecurityRequirements,{securities:m.security}),React.createElement(Parameters_1.Parameters,{parameters:m.parameters,body:m.requestBody})):null,(null===(a=m.responses)||void 0===a?void 0:a.length)?React.createElement(Panel_1.ScrollableContentPanel,{header:(0,Labels_1.l)("responses"),onToggle:E,expanded:_.options.expandDefaultResponse},React.createElement(ResponsesList_1.ResponsesList,{responses:m.responses})):null,(null===(l=m.callbacks)||void 0===l?void 0:l.length)?React.createElement(Panel_1.ScrollableContentPanel,{header:(0,Labels_1.l)("callbacks")},React.createElement(Callbacks_1.CallbacksList,{callbacks:m.callbacks})):null,React.createElement(helper_1.RenderHook,{Hook:null==R?void 0:R.AfterOperation,props:{operation:m}})),(null==_?void 0:_.showRightPanel)?React.createElement(common_elements_1.RightPanel,{"data-cy":"samples-block"},!(null==_?void 0:_.options.pathInMiddlePanel)&&!p&&React.createElement(Endpoint_1.Endpoint,{operation:m}),React.createElement(RequestSamples_1.RequestSamples,{operation:m}),React.createElement(ResponseSamples_1.ResponseSamples,{operation:m}),React.createElement(CallbackSamples_1.CallbackSamples,{callbacks:m.callbacks})):null)}));
//# sourceMappingURL=Operation.js.map