"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObjectSchema=void 0;var tslib_1=require("tslib"),React=(0,tslib_1.__importStar)(require("react")),mobx_react_1=require("mobx-react"),fields_layout_1=require("../../common-elements/fields-layout"),Field_1=require("../Fields/Field"),DiscriminatorDropdown_1=require("./DiscriminatorDropdown"),utils_1=require("../../utils"),OptionsProvider_1=require("../OptionsProvider"),ObjectSchema=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,tslib_1.__extends)(t,e),Object.defineProperty(t.prototype,"parentSchema",{get:function(){var e;return null===(e=this.props.discriminator)||void 0===e?void 0:e.parentSchema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.props,r=t.schema.fields,i=void 0===r?[]:r,n=t.showTitle,a=t.discriminator,l=t.level,o=this.props.skipReadOnly||this.props.skipWriteOnly?i.filter((function(t){return!(e.props.skipReadOnly&&t.schema.readOnly||e.props.skipWriteOnly&&t.schema.writeOnly)})):i,s=this.context.expandSingleSchemaField&&1===o.length||this.context.schemaExpansionLevel>=l;return React.createElement(fields_layout_1.PropertiesTableWrap,null,React.createElement(fields_layout_1.PropertiesTable,null,n&&React.createElement(fields_layout_1.PropertiesTableCaption,null,this.props.schema.title),React.createElement("tbody",null,(0,utils_1.mapWithLast)(o,(function(t,r){return React.createElement(Field_1.Field,{key:t.name,isLast:r,field:t,expandByDefault:s,renderDiscriminatorSwitch:(null==a?void 0:a.fieldName)===t.name&&function(){return React.createElement(React.Fragment,null,e.parentSchema?React.createElement(DiscriminatorDropdown_1.DiscriminatorDropdown,{parent:e.parentSchema,enumValues:t.schema.enum}):null)}||void 0,className:t.expanded?"expanded":void 0,showExamples:!1,skipReadOnly:e.props.skipReadOnly,skipWriteOnly:e.props.skipWriteOnly,showTitle:e.props.showTitle,level:e.props.level})})))))}}),Object.defineProperty(t,"contextType",{enumerable:!0,configurable:!0,writable:!0,value:OptionsProvider_1.OptionsContext}),t=(0,tslib_1.__decorate)([mobx_react_1.observer],t)}(React.Component);exports.ObjectSchema=ObjectSchema;
//# sourceMappingURL=ObjectSchema.js.map