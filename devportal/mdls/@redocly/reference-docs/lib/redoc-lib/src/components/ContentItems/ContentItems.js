"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OperationItem=exports.SectionItem=exports.ContentItem=exports.ContentItems=void 0;var tslib_1=require("tslib"),mobx_react_1=require("mobx-react"),React=(0,tslib_1.__importStar)(require("react")),react_1=require("react"),ExternalDocumentation_1=require("../ExternalDocumentation/ExternalDocumentation"),AdvancedMarkdown_1=require("../Markdown/AdvancedMarkdown"),common_elements_1=require("../../common-elements"),Operation_1=require("../Operation/Operation"),styled_components_1=(0,tslib_1.__importStar)(require("../../styled-components")),utils_1=require("../../utils"),shimmer=(0,styled_components_1.keyframes)(templateObject_1||(templateObject_1=(0,tslib_1.__makeTemplateObject)(["\n  100% {\n      transform: translateX(100%);\n  }\n"],["\n  100% {\n      transform: translateX(100%);\n  }\n"]))),SkeletonBox=styled_components_1.default.div(templateObject_2||(templateObject_2=(0,tslib_1.__makeTemplateObject)(["\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  overflow: hidden;\n  background-color: #eeeeee;\n  border-radius: ",";\n\n  &::after {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    transform: translateX(-100%);\n    background-image: linear-gradient(\n      90deg,\n      rgba(255, 255, 255, 0) 0,\n      rgba(255, 255, 255, 0.2) 20%,\n      rgba(255, 255, 255, 0.5) 60%,\n      rgba(255, 255, 255, 0)\n    );\n    animation: "," 2s infinite;\n    content: '';\n  }\n"],["\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  overflow: hidden;\n  background-color: #eeeeee;\n  border-radius: ",";\n\n  &::after {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    transform: translateX(-100%);\n    background-image: linear-gradient(\n      90deg,\n      rgba(255, 255, 255, 0) 0,\n      rgba(255, 255, 255, 0.2) 20%,\n      rgba(255, 255, 255, 0.5) 60%,\n      rgba(255, 255, 255, 0)\n    );\n    animation: "," 2s infinite;\n    content: '';\n  }\n"])),(function(e){return e.theme.shape.borderRadius}),shimmer);function Skeleton(){return React.createElement(common_elements_1.Section,null,React.createElement(common_elements_1.MiddlePanel,null,React.createElement(common_elements_1.H2,null,React.createElement(SkeletonBox,{style:{width:"40%"}})),React.createElement(SkeletonBox,{style:{width:"80%"}}),React.createElement(SkeletonBox,{style:{width:"90%"}}),React.createElement(SkeletonBox,{style:{width:"83%"}}),React.createElement(SkeletonBox,{style:{width:"80%"}})))}var isInitialHydrate=!0;exports.ContentItems=(0,mobx_react_1.observer)((function(e){var t=e.items,n=e.store,a=(0,react_1.useState)(utils_1.IS_BROWSER&&!isInitialHydrate&&!n.options.disablePaginationLoadingAnimation),r=a[0],o=a[1];return(0,react_1.useEffect)((function(){setTimeout((function(){o(!1)}),200),isInitialHydrate=!1}),[]),(0,react_1.useEffect)((function(){n.options.disablePaginationLoadingAnimation||r||n.onDidMount()}),[r,n.options.disablePaginationLoadingAnimation]),t.length?React.createElement(React.Fragment,null,r?React.createElement("div",{style:{flex:1,width:"100%"}},React.createElement(Skeleton,null)):t.map((function(e){return React.createElement(ContentItem,{key:e.id,item:e,store:n})}))):null}));var ContentItem=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,tslib_1.__extends)(t,e),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this.props,n=t.item,a=t.store;switch(n.type){case"group":e=null;break;case"tag":case"section":default:e=React.createElement(SectionItem,(0,tslib_1.__assign)({},this.props,{layout:a.layout}));break;case"operation":e=React.createElement(OperationItem,{item:n,layout:a.layout})}return React.createElement(React.Fragment,null,e&&React.createElement(common_elements_1.Section,{id:n.id,underlined:"operation"===n.type},e),n.items&&n.items.length&&React.createElement(exports.ContentItems,{items:n.items,store:a})||null)}}),t=(0,tslib_1.__decorate)([mobx_react_1.observer],t)}(React.Component);exports.ContentItem=ContentItem;var middlePanelWrap=function(e){return React.createElement(common_elements_1.MiddlePanel,{compact:!0},e)},SectionItem=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,tslib_1.__extends)(t,e),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.props.item,t=e.name,n=e.description,a=e.externalDocs,r=2===e.level?common_elements_1.H2:common_elements_1.H1;return React.createElement(React.Fragment,null,React.createElement(common_elements_1.Row,null,React.createElement(common_elements_1.MiddlePanel,{compact:!1},React.createElement(r,null,React.createElement(common_elements_1.ShareLink,{to:this.props.item.id}),t))),React.createElement(AdvancedMarkdown_1.AdvancedMarkdown,{source:n||"",htmlWrap:middlePanelWrap}),a&&React.createElement(common_elements_1.Row,null,React.createElement(common_elements_1.MiddlePanel,null,React.createElement(ExternalDocumentation_1.ExternalDocumentation,{externalDocs:a}))))}}),t=(0,tslib_1.__decorate)([mobx_react_1.observer],t)}(React.Component);exports.SectionItem=SectionItem;var templateObject_1,templateObject_2,OperationItem=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,tslib_1.__extends)(t,e),Object.defineProperty(t.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){return React.createElement(Operation_1.Operation,{operation:this.props.item,layout:this.props.layout})}}),t=(0,tslib_1.__decorate)([mobx_react_1.observer],t)}(React.Component);exports.OperationItem=OperationItem;
//# sourceMappingURL=ContentItems.js.map