"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AdvancedMarkdown=void 0;var tslib_1=require("tslib"),React=(0,tslib_1.__importStar)(require("react")),services_1=require("../../services"),SanitizedMdBlock_1=require("./SanitizedMdBlock"),OptionsProvider_1=require("../OptionsProvider"),StoreBuilder_1=require("../StoreBuilder"),AdvancedMarkdown=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return(0,tslib_1.__extends)(r,e),Object.defineProperty(r.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return React.createElement(OptionsProvider_1.OptionsConsumer,null,(function(r){return React.createElement(StoreBuilder_1.StoreConsumer,null,(function(t){return e.renderWithOptionsAndStore(r,t)}))}))}}),Object.defineProperty(r.prototype,"renderWithOptionsAndStore",{enumerable:!1,configurable:!0,writable:!0,value:function(e,r){var t=this.props,n=t.source,i=t.htmlWrap,o=void 0===i?function(e){return e}:i;if(!r)throw new Error("When using components in markdown, store prop must be provided");var a=new services_1.MarkdownRenderer(e).renderMdWithComponents(n);return a.length?a.map((function(e,t){return"string"==typeof e?React.cloneElement(o(React.createElement(SanitizedMdBlock_1.SanitizedMarkdownHTML,{html:e,inline:!1,compact:!1})),{key:t}):React.createElement(e.component,(0,tslib_1.__assign)({key:t},(0,tslib_1.__assign)((0,tslib_1.__assign)({},e.props),e.propsSelector(r))))})):null}}),r}(React.Component);exports.AdvancedMarkdown=AdvancedMarkdown;
//# sourceMappingURL=AdvancedMarkdown.js.map