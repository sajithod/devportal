"use strict";var _a,_b;Object.defineProperty(exports,"__esModule",{value:!0}),exports.CodeBuilder=void 0;var tslib_1=require("tslib"),util=(0,tslib_1.__importStar)(require("util")),constants_1=require("./constants"),string_utility_1=(0,tslib_1.__importDefault)(require("./string-utility")),langToVarNameConvention=((_a={})[constants_1.Lang.NODEJS]=constants_1.NamingVariableConventions.CAMEL_CASE,_a[constants_1.Lang.JAVASCRIPT]=constants_1.NamingVariableConventions.CAMEL_CASE,_a[constants_1.Lang.PYTHON]=constants_1.NamingVariableConventions.UNDER_SCORES,_a[constants_1.Lang.JAVA8]=constants_1.NamingVariableConventions.CAMEL_CASE,_a[constants_1.Lang.JAVA]=constants_1.NamingVariableConventions.CAMEL_CASE,_a[constants_1.Lang.CSHARP]=constants_1.NamingVariableConventions.PASCAL_CASE,_a[constants_1.Lang.CURL]=constants_1.NamingVariableConventions.CAMEL_CASE,_a[constants_1.Lang.GO]=constants_1.NamingVariableConventions.CAMEL_CASE,_a[constants_1.Lang.PHP]=constants_1.NamingVariableConventions.CAMEL_CASE,_a[constants_1.Lang.RUBY]=constants_1.NamingVariableConventions.UNDER_SCORES,_a),langOptions=((_b={default:{joinSymbol:"",variableWrapperFn:function(n){return n},stringLiteral:function(n){return n},variableDeclaration:function(n){return n},urlFieldName:"url"}})[constants_1.Lang.CSHARP]={joinSymbol:" + ",stringLiteral:function(n){return'"'+n+'"'},variableDeclaration:function(n){return"var "+n+' = "%s";'},urlFieldName:"fullUrl"},_b[constants_1.Lang.GO]={joinSymbol:" + ",stringLiteral:function(n){return'"'+n+'"'},variableDeclaration:function(n){return n+' := "%s";'}},_b[constants_1.Lang.JAVA]={joinSymbol:" + ",stringLiteral:function(n){return'"'+n+'"'},variableDeclaration:function(n){return"var "+n+' = "%s";'},urlFieldName:"pathname"},_b[constants_1.Lang.JAVA8]={joinSymbol:" + ",stringLiteral:function(n){return'"'+n+'"'},variableDeclaration:function(n){return"String "+n+' = "%s";'},urlFieldName:"fullUrl"},_b[constants_1.Lang.JAVASCRIPT]={variableWrapperFn:function(n){return"${"+n+"}"},variableDeclaration:function(n){return"const "+n+" = '%s';"}},_b[constants_1.Lang.NODEJS]={variableWrapperFn:function(n){return"${"+n+"}"},variableDeclaration:function(n){return"const "+n+" = '%s';"}},_b[constants_1.Lang.PHP]={joinSymbol:" . ",stringLiteral:function(n){return'"'+n+'"'},variableDeclaration:function(n){return"const "+n+' = "%s";'}},_b[constants_1.Lang.PYTHON]={stringLiteral:function(n){return'"'+n+'"'},joinSymbol:" + ",variableDeclaration:function(n){return n+' = "%s"'}},_b[constants_1.Lang.RUBY]={joinSymbol:" + ",stringLiteral:function(n){return"'"+n+"'"},variableDeclaration:function(n){return n+" = '%s'"}},_b[constants_1.Lang.CURL]={variableWrapperFn:function(n,e){return e||"{"+n+"}"},urlFieldName:"fullUrl",rawName:!0},_b),reservedVariableNames=["response","request","requests","data","url","payload","main","accessToken","resp","Program","client","postData","App","httpClient","params","pathname","host","body","fetch","query"],CodeBuilder=function(){function n(n){var e=n.indentation,t=n.lineJoin,a=void 0===t?"\n":t,i=n.variablesPrefix,r=void 0===i?"":i,o=n.capitalize,l=void 0!==o&&o,s=n.lang,u=void 0===s?constants_1.Lang.CURL:s;Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"indentation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"variablesPrefix",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"capitalize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lang",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"langOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=[],this.indentation=e,this.variablesPrefix=r,this.lineJoin=a||"\n",this.capitalize=l,this.lang=u,this.langOptions=(0,tslib_1.__assign)((0,tslib_1.__assign)({},langOptions.default),langOptions[u])}return Object.defineProperty(n.prototype,"buildLine",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){var t="",a=2;if("string"==typeof n)a=1,e=n,n=0;else if(null===n)return null;for(;n;)t+=this.indentation,n--;var i=Array.prototype.slice.call(arguments,a,arguments.length);return i.unshift(t+e),util.format.apply(this,i)}}),Object.defineProperty(n.prototype,"unshift",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return this.code.unshift(this.buildLine.apply(this,n)),this}}),Object.defineProperty(n.prototype,"push",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return this.code.push(this.buildLine.apply(this,n)),this}}),Object.defineProperty(n.prototype,"blank",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.code.push(null),this}}),Object.defineProperty(n.prototype,"join",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.code.join(this.lineJoin)}}),Object.defineProperty(n.prototype,"clean",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.code.splice(1)}}),Object.defineProperty(n.prototype,"var",{enumerable:!1,configurable:!0,writable:!0,value:function(n,e){if(void 0===e&&(e=constants_1.VariableType.CUSTOM),e===constants_1.VariableType.PATH){var t=this.variablesPrefix+n;switch(reservedVariableNames.includes(t)&&(t+="_path"),langToVarNameConvention[this.lang]){case constants_1.NamingVariableConventions.UNDER_SCORES:t=string_utility_1.default.toSnakeCase(t);break;case constants_1.NamingVariableConventions.PASCAL_CASE:t=string_utility_1.default.toPascalCase(t);break;case constants_1.NamingVariableConventions.CAMEL_CASE:default:t=string_utility_1.default.toCamelCase(t)}return t}return this.variablesPrefix?this.variablesPrefix+(this.capitalize?string_utility_1.default.toPascalCase(n):n):n}}),n}();exports.CodeBuilder=CodeBuilder;
//# sourceMappingURL=code-builder.js.map