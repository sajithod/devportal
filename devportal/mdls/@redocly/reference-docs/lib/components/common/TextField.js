"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FormDropdown=exports.FormTextField=exports.TextField=exports.StyledInput=exports.invertedInputStyles=void 0;var tslib_1=require("tslib"),react_1=(0,tslib_1.__importDefault)(require("react")),informed_1=require("informed"),informed_2=require("informed"),styled_components_1=(0,tslib_1.__importStar)(require("../../redoc-lib/src/styled-components")),form_1=require("./form"),redoc_lib_1=require("../../redoc-lib");exports.invertedInputStyles=(0,styled_components_1.css)(templateObject_1||(templateObject_1=(0,tslib_1.__makeTemplateObject)(["\n  border: none;\n  outline: none;\n  padding: 8px;\n  border-radius: ",";\n  background-color: ",";\n  ","\n\n  &::placeholder {\n    opacity: 0.6;\n    color: ",";\n  }\n\n  &:-webkit-autofill {\n    background-color: ",";\n  }\n"],["\n  border: none;\n  outline: none;\n  padding: 8px;\n  border-radius: ",";\n  background-color: ",";\n  ","\n\n  &::placeholder {\n    opacity: 0.6;\n    color: ",";\n  }\n\n  &:-webkit-autofill {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.shape.borderRadius}),(function(e){return e.theme.rightPanel.panelControlsBackgroundColor}),(function(e){var t=e.theme;return(0,styled_components_1.mediaCSS)({color:t.colors.text.light,fontFamily:t.typography.code.fontFamily,fontSize:t.typography.fontSize})}),(function(e){return e.theme.colors.text.light}),(function(e){return e.theme.rightPanel.panelBackgroundColor}));var TextFieldWrapper=styled_components_1.default.div(templateObject_2||(templateObject_2=(0,tslib_1.__makeTemplateObject)(["\n  display: ",";\n  ","\n"],["\n  display: ",";\n  ","\n"])),(function(e){return"hidden"===e.type?"none":"inline-block"}),(function(e){return e.fullWidth?"width: 100%;":""})),InputWrap=styled_components_1.default.div(templateObject_3||(templateObject_3=(0,tslib_1.__makeTemplateObject)(["\n  position: relative;\n"],["\n  position: relative;\n"])));exports.StyledInput=styled_components_1.default.input(templateObject_4||(templateObject_4=(0,tslib_1.__makeTemplateObject)(["\n  ","\n  ",";\n  ","\n"],["\n  ","\n  ",";\n  ","\n"])),exports.invertedInputStyles,(function(e){var t=e.inputType,n=e.inputActionButton;return"password"===t||n?"padding-right: 40px;":""}),(function(e){return e.fullWidth?"width: 100%;":""}));var InputActionButton=styled_components_1.default.span(templateObject_5||(templateObject_5=(0,tslib_1.__makeTemplateObject)(["\n  position: absolute;\n  right: 0;\n  line-height: normal;\n\n  font-size: 0.8em;\n  padding: calc(8px / 0.8);\n  cursor: pointer;\n  text-align: center;\n  ","\n"],["\n  position: absolute;\n  right: 0;\n  line-height: normal;\n\n  font-size: 0.8em;\n  padding: calc(8px / 0.8);\n  cursor: pointer;\n  text-align: center;\n  ","\n"])),(function(e){var t=e.theme;return(0,styled_components_1.mediaCSS)({color:t.rightPanel.textColor})}));function TextFieldComponent(e,t){var n=e.fullWidth,r=e.errorMessage,o=e.type,l=react_1.default.useState("password"===o),i=l[0],a=l[1],u=react_1.default.useCallback((function(){a(!i)}),[i]);return react_1.default.createElement(TextFieldWrapper,{fullWidth:n,type:o},react_1.default.createElement(InputWrap,null,react_1.default.createElement(exports.StyledInput,(0,tslib_1.__assign)({},e,{type:i?"password":"text",inputType:o,ref:t})),e.inputActionButton?react_1.default.createElement(InputActionButton,{onClick:e.inputActionButton.onClick},e.inputActionButton.label):"password"===o?react_1.default.createElement(InputActionButton,{onClick:u},i?"show":"hide"):null),r?react_1.default.createElement(form_1.FormError,null,r):null)}function FormTextField(e){var t=(0,informed_2.useField)((0,tslib_1.__assign)({fieldType:"text"},e)),n=t.userProps,r=t.render,o=t.fieldState,l=t.informed;return r(react_1.default.createElement(exports.TextField,(0,tslib_1.__assign)({},n,l,{errorMessage:o.error})))}exports.TextField=react_1.default.forwardRef(TextFieldComponent),exports.FormTextField=FormTextField;var templateObject_1,templateObject_2,templateObject_3,templateObject_4,templateObject_5,FormDropdownInt=function(e){var t=e.initValue,n=e.options,r=e.fieldApi,o=e.fieldState,l=n.map((function(e,t){return{value:e.title||e.value,idx:t,origValue:e.value}})),i=l.find((function(e){return e.origValue===t})),a=react_1.default.useState(null==i?void 0:i.value),u=a[0],d=a[1];react_1.default.useEffect((function(){t&&r.setValue(t)}),[]);var c=react_1.default.useCallback((function(e){r.setValue(l[e.idx].origValue),d(l[e.idx].value)}),[l]);return react_1.default.createElement(TextFieldWrapper,{fullWidth:!0},react_1.default.createElement(redoc_lib_1.Dropdown,{fullWidth:!0,variant:"dark",value:u,options:l,onChange:c}),o.error?react_1.default.createElement(form_1.FormError,null,o.error):null)};exports.FormDropdown=(0,informed_1.asField)(FormDropdownInt);
//# sourceMappingURL=TextField.js.map