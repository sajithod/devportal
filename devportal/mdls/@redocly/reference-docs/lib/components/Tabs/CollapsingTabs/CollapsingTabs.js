"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CollapsingTabs=void 0;var tslib_1=require("tslib"),react_1=(0,tslib_1.__importStar)(require("react")),CollapsingTabsBase_1=require("./CollapsingTabsBase"),mobx_react_1=require("mobx-react");function getActiveIndexFromOperation(e,t,a){var r;return t?"number"==typeof a&&a>0?hasActiveExampleName(null===(r=e[a])||void 0===r?void 0:r.content,t)?a:getActiveIndexFromOperation(e,t):e.findIndex((function(e){return hasActiveExampleName(e.content,t)})):-1}function hasActiveExampleName(e,t){return!!(null==e?void 0:e.mediaTypes.find((function(e){return Object.keys(e.examples||[]).includes(t||"")})))}exports.CollapsingTabs=(0,mobx_react_1.observer)((function(e){var t=e.children,a=(0,tslib_1.__rest)(e,["children"]),r=(0,react_1.useState)(0),n=r[0],i=r[1],s=a.operation,o=a.operation.activeExampleName;(0,react_1.useEffect)((function(){var e=getActiveIndexFromOperation(s.responses,o,n);e>-1&&i(e)}),[o]);var l=react_1.default.useCallback((function(e){n!==e&&i(e)}),[n]);return react_1.default.createElement(CollapsingTabsBase_1.CollapsingTabsBase,(0,tslib_1.__assign)({},a,{activeIndex:n,onChange:l}),t)}));
//# sourceMappingURL=CollapsingTabs.js.map