"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MenuItemPro=void 0;var templateObject_1,templateObject_2,tslib_1=require("tslib"),React=(0,tslib_1.__importStar)(require("react")),redoc_lib_1=require("../../redoc-lib"),ResultMeta=redoc_lib_1.styled.div(templateObject_1||(templateObject_1=(0,tslib_1.__makeTemplateObject)(["\n  font-size: 0.8em;\n  ","\n"],["\n  font-size: 0.8em;\n  ","\n"])),(function(e){var t=e.theme;return(0,redoc_lib_1.mediaCSS)({fontFamily:t.typography.code.fontFamily})})),Place=redoc_lib_1.styled.span(templateObject_2||(templateObject_2=(0,tslib_1.__makeTemplateObject)(["\n  font-weight: bold;\n"],["\n  font-weight: bold;\n"]))),MenuItemPro=function(e){var t=e.result,a=e.active,n=e.term,r=e.onActivate,l=e.history,c=React.useContext(redoc_lib_1.OptionsContext),i="path-only"===c.searchMode,o="path-first"===c.sideNavStyle;return React.createElement(redoc_lib_1.MenuItem,{item:Object.create(t.item,{active:{value:a},name:{value:i?t.item.name:""},path:{value:""},search:{value:!0}}),onActivate:function(e,a){if(a.ctrlKey){var n=l.linkForId(t.item.id);window.open(n,"_blank")}else r(t)},withoutChildren:!0,"data-role":"search:result"},(o||i)&&"operation"===t.item.type?React.createElement(React.Fragment,null,React.createElement(redoc_lib_1.MenuItemPath,{title:t.item.path},markString(t.item.path,n))):markString(t.item.name,n),t.count>1?React.createElement(ResultMeta,null,t.count," matching ",formatPlaces(t.places)):1===t.count?React.createElement(ResultMeta,null,"in ",React.createElement(Place,null,t.places[0].place)," ",formatPath(n,t.places[0].paths[0])):null)};function formatPlaces(e){return e.slice().sort(),e.map((function(e){return e.place})).join(" and ")}function formatPath(e,t){return t&&t.length&&t[t.length-1].toLowerCase().startsWith(e.toLowerCase())&&(t=t.slice(0,t.length-1)),t&&0!==t.length?" → "+t.join(" → "):""}function markString(e,t){for(var a=new RegExp("("+t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")+")","gi"),n=e.split(a),r=1,l=n.length;r<l;r+=2)n[r]=React.createElement("span",{key:r,style:{backgroundColor:"#ffff03"}},n[r]);return n}exports.MenuItemPro=MenuItemPro;
//# sourceMappingURL=MenuItemProSearch.js.map