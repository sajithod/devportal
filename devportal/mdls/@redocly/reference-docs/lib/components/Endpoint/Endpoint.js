"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Endpoint=void 0;var tslib_1=require("tslib"),react_1=(0,tslib_1.__importStar)(require("react")),OptionsProvider_1=require("../../redoc-lib/src/components/OptionsProvider"),StoreBuilder_1=require("../../redoc-lib/src/components/StoreBuilder"),ConsoleLazy_1=require("../console/ConsoleLazy"),Panel_1=require("../Panel"),ServerList_1=require("./ServerList"),Summary_1=require("./Summary"),react_2=require("react"),store_types_1=require("../../services/store-types"),Endpoint=function(e){var t=e.operation,r=e.hideHostname,o=(0,react_1.useState)(!1),n=o[0],a=o[1],i=(0,react_2.useContext)(StoreBuilder_1.StoreContext),l=function(){var e,r;a(!n),null===(r=null===(e=null==i?void 0:i.options.events)||void 0===e?void 0:e.tryItOpen)||void 0===r||r.call(e,{eventType:store_types_1.AnalyticsEventType.TryItOpen,resource:"Redocly_OperationTryIt",action:(null==i?void 0:i.options.unstable_tryItButtonOverride)?"NavigatedOverrideLink":"Opened",operationId:t.operationId,operationPath:t.path,operationHttpVerb:t.httpVerb,operationSummary:t.description})};return react_1.default.createElement(react_1.default.Fragment,null,n?react_1.default.createElement(StoreBuilder_1.StoreConsumer,null,(function(e){return react_1.default.createElement(ConsoleLazy_1.Console,{store:e,operation:t,onClose:l})})):react_1.default.createElement(Panel_1.CodePanel,{header:function(e){var r=e.toggle,o=e.expanded;return react_1.default.createElement(Summary_1.Summary,{operation:t,expanded:o,toggle:r,showConsole:!!(null==i?void 0:i.options.showConsole),onToggleConsole:l,tryItOverride:null==i?void 0:i.options.unstable_tryItButtonOverride})},expanded:!1},react_1.default.createElement(OptionsProvider_1.OptionsConsumer,null,(function(e){return react_1.default.createElement(ServerList_1.ServerList,{operation:t,expandVariables:e.expandDefaultServerVariables,hideHostname:r||e.hideHostname})}))))};exports.Endpoint=Endpoint;
//# sourceMappingURL=Endpoint.js.map