!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("informed",[],t):"object"==typeof exports?exports.informed=t():e.informed=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.js")}({"./node_modules/process/browser.js":function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],s=!1,f=-1;function d(){s&&l&&(s=!1,l.length?c=l.concat(c):f=-1,c.length&&p())}function p(){if(!s){var e=u(d);s=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function v(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new v(e,t)),1!==c.length||s||u(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"./src/debug.js":function(e,t,r){(function(t){function r(e,t){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t[Math.abs(r)%t.length]}function n(e,t){var r=t.namespace;if(t.useColors){var n=t.color,i="  ".concat("[3"+(n<8?n:"8;5;"+n),";1m").concat(r," [0m");e[0]=i+e[0].split("\n").join("\n"+i)}else e[0]=r+" "+e[0]}function i(e,t){if(e[0]=(t.useColors?"%c":"")+t.namespace,t.useColors){var r="color: "+t.color,n=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))})),e.splice(i,0,r)}}var o=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];e&&i.unshift(e);var a=t.namespaces.split(",").map((function(e){return"*"===e[e.length-1]?new RegExp("^"+e.slice(0,e.length-1)+".*$"):new RegExp("^"+e+"$")}));a.some((function(t){return t.test(e)})),r(e,t.colors),t.useColors}}void 0===t||"renderer"===t.type||!0===t.browser||t.__nwjs?e.exports=function(e){return a(e,function(){var e;try{e=localStorage.getItem("debug")}catch(e){}return!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG),{namespaces:e||"",colors:o,useColors:!0,formatArgs:i}}())}:e.exports=function(e){return a(e,{namespaces:t.env.DEBUG||"",colors:[6,2,3,4,5,1],useColors:!0,formatArgs:n})}}).call(this,r("./node_modules/process/browser.js"))},"./src/index.js":function(e,t,r){"use strict";r.r(t),r.d(t,"Form",(function(){return dr})),r.d(t,"FormProvider",(function(){return nr})),r.d(t,"withFormApi",(function(){return Tr})),r.d(t,"withFormState",(function(){return Br})),r.d(t,"withFieldApi",(function(){return _r})),r.d(t,"withFieldState",(function(){return Ur})),r.d(t,"withRadioGroup",(function(){return _e})),r.d(t,"asField",(function(){return we})),r.d(t,"useForm",(function(){return lr})),r.d(t,"useField",(function(){return je})),r.d(t,"useFieldApi",(function(){return Dr})),r.d(t,"useFieldState",(function(){return Gr})),r.d(t,"useFormApi",(function(){return V})),r.d(t,"useFormState",(function(){return Ft})),r.d(t,"useMultistepState",(function(){return Fr})),r.d(t,"useMultistepApi",(function(){return Er})),r.d(t,"useArrayFieldApi",(function(){return at})),r.d(t,"useArrayFieldItemApi",(function(){return lt})),r.d(t,"useCursorPosition",(function(){return re})),r.d(t,"Text",(function(){return xe})),r.d(t,"Input",(function(){return Jr})),r.d(t,"Radio",(function(){return Je})),r.d(t,"TextArea",(function(){return Ie})),r.d(t,"Select",(function(){return Me})),r.d(t,"Option",(function(){return Wr})),r.d(t,"Checkbox",(function(){return Ue})),r.d(t,"RadioGroup",(function(){return ot})),r.d(t,"BasicText",(function(){return Ae})),r.d(t,"BasicRadio",(function(){return We})),r.d(t,"BasicRadioGroup",(function(){return it})),r.d(t,"BasicTextArea",(function(){return ke})),r.d(t,"BasicSelect",(function(){return De})),r.d(t,"BasicCheckbox",(function(){return Le})),r.d(t,"Scope",(function(){return yr})),r.d(t,"ArrayField",(function(){return Dt})),r.d(t,"useArrayField",(function(){return bt})),r.d(t,"FormState",(function(){return gr})),r.d(t,"Relevant",(function(){return Et})),r.d(t,"Multistep",(function(){return xr})),r.d(t,"FormField",(function(){return Vr})),r.d(t,"SchemaFields",(function(){return kr})),r.d(t,"FormFields",(function(){return Lt})),r.d(t,"FormComponents",(function(){return Mt})),r.d(t,"utils",(function(){return n}));var n={};r.r(n),r.d(n,"getChildDisplayName",(function(){return L})),r.d(n,"yupToFormErrors",(function(){return U})),r.d(n,"validateYupSchema",(function(){return $})),r.d(n,"yupToFormError",(function(){return _})),r.d(n,"validateYupField",(function(){return q})),r.d(n,"validateAjvSchema",(function(){return z})),r.d(n,"uuidv4",(function(){return W})),r.d(n,"debounce",(function(){return J})),r.d(n,"computeFieldFromProperty",(function(){return Y})),r.d(n,"computeFieldsFromSchema",(function(){return K})),r.d(n,"getSchemaPathFromJsonPath",(function(){return X})),r.d(n,"informedFormat",(function(){return Z})),r.d(n,"createIntlNumberFormatter",(function(){return H}));var i=r("react"),o=r.n(i),a=r("./src/debug.js"),u=r.n(a);function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var c=u()("informed:ObjMap\t"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String.prototype.replace.call(e,/\['(.+?)'\]/g,".$1").split(/[,[\].]+?/).filter(Boolean)},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=String.prototype.replace.call(t,/\['(.+?)'\]/g,".$1").split(/[,[\].]+?/).filter(Boolean).reduce((function(e,t){return null!=e?e[t]:e}),e);return void 0===n||n===e?r:n},d=function(e){return".".concat(e).replace(/(.*)[.[].*/,"$1").replace(/\./,"")},p=function(e,t){var r=d(t),n=function(e){return e.replace(d(e),"").replace(/\./,"")}(t),i=r?f(e,r):e;return!(!i||!Object.hasOwnProperty.call(i,n.replace(/\[(.*)\]/,"$1")))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;String.prototype.replace.call(t,/\['(.+?)'\]/g,".$1").split(/[,[\].]+?/).filter(Boolean).reduce((function(e,t,n,i){return n===i.length-1?(e[t]=r,e[t]):void 0===e[t]?(Number.isInteger(+i[n+1])?e[t]=[]:e[t]={},e[t]):(Number.isInteger(+i[n+1])&&!Array.isArray(e[t])&&(e[t]=[]),e[t])}),e)},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=!1;return String.prototype.replace.call(t,/\['(.+?)'\]/g,".$1").split(/[,[\].]+?/).filter(Boolean).reduce((function(e,t,n,i){return void 0===e?e:n===i.length-1?(delete e[t],r=!0,e[t]):e[t]}),e),r},y=function(e){var t=s(e);return Number.isInteger(+t[t.length-1])};function g(e,t){if(0!==t.length){var r=f(e,t);(Array.isArray(r)?r.every((function(e){return null==e})):"{}"===JSON.stringify(r))&&h(e,t),g(e,t.slice(0,t.length-1))}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"empty",value:function(e){return 0===function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);return t.map((function(t){return e[t]}))}(e).length}},{key:"get",value:function(e,t){return f(e,t)}},{key:"has",value:function(e,t){return p(e,t)}},{key:"set",value:function(t,r,n){if(void 0!==n)c("SETTING",r,n),v(t,r,n);else if(y(r)&&void 0!==e.get(t,r)){c("Special case SETTING",r,"to undefined"),v(t,r,void 0);var i=s(r);g(t,i=i.slice(0,i.length-1),!1)}else y(r)||void 0===e.get(t,r)||(c("Special case REMOVING",r,"from object completley"),e.delete(t,r))}},{key:"delete",value:function(e,t){c("DELETE",t),y(t)?(c("ARRAY",t),this.pullOut(e,t)):h(e,t);var r=s(t);g(e,r=r.slice(0,r.length-1))}},{key:"pullOut",value:function(e,t){var r=s(t),n=r[r.length-1];r=r.slice(0,r.length-1),c("Pulling out:",r,"index",n);var i=f(e,r);c("Array",i),Array.isArray(i)&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";String.prototype.replace.call(t,/\['(.+?)'\]/g,".$1").split(/[,[\].]+?/).filter(Boolean).reduce((function(e,t,r,n){return void 0===e?e:r===n.length-1&&Array.isArray(e)?(e.splice(t,1),e[t]):e[t]}),e)}(i,n),g(e,r)}}],(r=null)&&l(t.prototype,r),n&&l(t,n),e}(),b=o.a.createContext({register:function(){},deregister:function(){},setValue:function(){},setTouched:function(){},setError:function(){},update:function(){},getField:function(){},expectRemoval:function(){},getInitialValue:function(){},getSavedValue:function(){}}),O=o.a.createContext({}),j=o.a.createContext({getFullField:function(){},getValues:function(){},getOptions:function(){return{}},setInitialValue:function(){},getInitialValue:function(){},getDerrivedValue:function(){},getSavedValue:function(){},removeSavedState:function(){}}),S=o.a.createContext(),w=o.a.createContext(),F=o.a.createContext(),E=o.a.createContext(),C=o.a.createContext(),A=o.a.createContext(),x=o.a.createContext(),P=o.a.createContext();var V=function(){return Object(i.useContext)(j)};function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T=function(e){var t=Object(i.useRef)(),r=Object(i.useRef)(!0),n=k(Object(i.useState)(e),2),o=n[0],a=n[1];return t.current=o,Object(i.useEffect)((function(){return function(){r.current=!1}}),[]),[o,function(e){t.current=e,r.current&&a(e)},function(){return t.current}]};function R(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var L=function(e){return e.type&&e.type.name?e.type.name:e.displayName||e.name||"Component"},U=function(e){var t={};if(e.inner){if(0===e.inner.length)return void m.set(t,e.path,e.message);var r,n=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=N(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}(e.inner);try{for(n.s();!(r=n.n()).done;){var i=r.value;m.get(t,i.path)||m.set(t,i.path,i.message)}}catch(i){n.e(i)}finally{n.f()}}return t},$=function(e,t){try{e.validateSync(t,{abortEarly:!1})}catch(e){return U(e)}},_=function(e){if(e.inner){if(0===e.inner.length)return;return e.inner[0].message}},q=function(e,t){try{e.validateSync(t,{abortEarly:!1})}catch(e){return _(e)}},z=function(e,t){e(t);var r={};return e.errors&&e.errors.forEach((function(e){var t=e.message,n=e.dataPath,i=e.keyword,o=e.params,a=n;"required"===i&&(a="".concat(a,".").concat(o.missingProperty)),a=a.replace(".",""),m.set(r,a,t)})),r},W=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},J=function(e,t){var r;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=function(){clearTimeout(r),e.apply(void 0,i)};clearTimeout(r),r=setTimeout(a,t)}},Y=function(e,t,r){var n=t["ui:control"],i=t["informed:props"],o=t["input:props"],a=t["ui:before"],u=t["ui:after"],l=t.oneOf,c=t.items,s=t.enum,f=t.title,d=t.minimum,p=t.maximum,v=t.minLength,h=t.maxLength,y=t.pattern,g=t.type,m=t.properties,b=W();o&&o.id&&(b=o.id);var O={componentType:n,field:r?"".concat(r,".").concat(e):e,type:g,uiBefore:a,uiAfter:u,properties:"object"===g?m:void 0,items:"array"===g?c:void 0,props:D(D({label:f,id:b,min:d,max:p,minLength:v,maxLength:h,pattern:y},i),o)};if(l){var j=t.oneOf.map((function(e){var t=e["input:props"],r=void 0===t?{}:t;return D({value:e.const,label:e.title},r)}));O.props.options=j}if(s){var S=t.enum.map((function(e){return{value:e,label:e}}));O.props.options=S}if(c&&c.oneOf){var w=c.oneOf.map((function(e){var t=e["input:props"],r=void 0===t?{}:t;return D({value:e.const,label:e.title},r)}));O.props.options=w}return O},K=function(e,t,r){if(!e||t)return[];var n=e.properties,i=void 0===n?{}:n,o=e.allOf,a=e.propertyOrder,u=void 0===a?[]:a;if(Object.keys(i).length>0){var l=Object.keys(i).sort((function(e,t){var r=u.indexOf(e),n=u.indexOf(t);return(r>-1?r:u.length+1)-(n>-1?n:u.length+1)})).map((function(e){var t=i[e];return Y(e,t,r)}));return o&&l.push({componentType:"conditionals",allOf:o}),l}return[]},X=function(e){var t=e.replace(/\./g,".properties.").replace(/\[/g,".itmes[");return t="properties.".concat(t)},Z=function(e,t){if(!e)return{val:e,offset:0};var r="".concat(e),n=function(e,t){if("string"==typeof e)return e.split("").map((function(e){return"#"===e?/\d/:"*"===e?/[\w]/:e}));if("function"==typeof e)return e(t);if(Array.isArray(e))return e;throw new Error("Formatter must be string, array, or function")}(t,r),i=n.findIndex((function(e){return"string"!=typeof e})),o=n.length-R(n).reverse().findIndex((function(e){return"string"!=typeof e})),a=[],u=r.split(""),l=0,c=0,s=function(e,t){for(var r=0,n=-1,i=!0;i&&r<e.length;)e[r]==t[r]?n=r:i=!1,r+=1;return n}(n.slice(0,i),u.slice(0,i));s>-1&&(l=s+1,a=a.concat(n.slice(0,s+1)),c=s+1),s<0&&(a=a.concat(n.slice(0,i)),c=i);for(var f=!1,d=c;d<n.length;d++){var p=n[d];if(f||"string"==typeof p||(f=!0),l!=u.length){var v=u[l];if("function"==typeof p)a.push(p(v)),l+=1;else{var h="string"==typeof p?p===v:p.test(v);h&&"string"==typeof p?(a.push(p),l+=1):h||"string"!=typeof p?h&&"string"!=typeof p?(a.push(v),l+=1):h||"string"==typeof p||(l+=1,d-=1):l!=u.length&&a.push(p)}}else{if(!("string"==typeof p&&d>=o))break;a.push(p)}}return{value:a.join(""),offset:r?a.length-r.length:0}},H=function(e,t){var r,n,i=new Intl.NumberFormat(e,t),o=null!==(r=null===(n=new Intl.NumberFormat(e).formatToParts(.1).find((function(e){return"decimal"===e.type})))||void 0===n?void 0:n.value)&&void 0!==r?r:".";function a(e){return"".concat(e).split(o).map((function(e){return function(e){return"".concat(e).replace(/\D/g,"")}(e)})).join(".")}return{formatter:function(e){var t=a(e),r="".concat(t).split(".")[1],n=i.formatToParts(Number(t));"0"===r&&n.push({type:"decimal",value:o},{type:"fraction",value:r});var u=n.reduce((function(e,t){var n=t.type,i=t.value;return["decimal","fraction"].includes(n)&&null==r?e:["integer","fraction"].includes(n)?[].concat(R(e),R(i.split("").filter((function(e,t){return"fraction"!==n||t<r.length})).map((function(){return/\d/})))):[].concat(R(e),"currency"===n?R(i.split("")):[i])}),[]),l=function(e,t){for(var r=e.length;r--;)if(t(e[r]))return r;return-1}(u,(function(e){return r=/\d/,(t=e)instanceof RegExp&&r instanceof RegExp&&t.source===r.source&&t.global===r.global&&t.ignoreCase===r.ignoreCase&&t.multiline===r.multiline;var t,r}));-1===u.indexOf(o)&&-1!=="".concat(e).indexOf(o)&&(u=function(e,t,r){var n=R(e);return Array.isArray(r)?n.splice.apply(n,[t,0].concat(R(r))):n.splice(t,0,r),n}(u,l+1,[o,"[]"]),l+=2);var c=u.slice(l+1).join("");return u=[].concat(R(u.slice(0,l+1)),[c])},parser:function(e){if(null!=e)return function(e){if("number"==typeof e)return e;var t=parseFloat(a(e));return Number.isNaN(t)?void 0:t}(e)}}},Q="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var re=function(e){var t=e.value,r=e.inputRef,n=e.maintainCursor,i=void 0===n||n,o=ee(T(0),3),a=o[0],u=o[1],l=o[2],c=ee(T(0),3),s=c[0],f=c[1],d=c[2];return Q((function(){if(null!=r.current&&l()){var e=l()+d();0!=d()&&i?r.current.setSelectionRange(e+1,e+1):i&&r.current.setSelectionRange(e,e)}}),[t]),{setCursorOffset:f,setCursor:u,cursor:a,getCursor:l,cursorOffset:s}},ne=function(e,t){var r=Object(i.useRef)(!0),n=r.current;Object(i.useEffect)((function(){if(!n)return e();r.current=!1}),t)};function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ue(e){return function(e){if(Array.isArray(e))return se(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){if(e){if("string"==typeof e)return se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?se(e,t):void 0}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var de=u()("informed:useField\t"),pe=function(e,t,r,n,i){if(null!=e)return i?i(e):t?t(e):r&&!n?Z(e,r).value:e},ve=function(e,t,r,n){return t&&r?t(e):n?Z(e,n).value:e},he=function(e,t,r){var n=r.required;return e||t?function(r,n){return t?q(t,r):e?e(r,n):void 0}:n?function(e){return Oe(e,n)}:void 0},ye=function(e){var t=e.fieldType,r=e.setValue,n=e.onChange,i=e.multiple,o=e.ref,a=function(e){return r(e)};return"text"!==t&&"textArea"!==t&&"number"!==t||(a=function(e){return r(e.target.value,e)}),"select"===t&&(a=function(){var e=Array.from(o.current).filter((function(e){return e.selected})).map((function(e){return e.value}));r(i?e:e[0]||"")}),"checkbox"===t&&(a=function(e){r(e.target.checked),n&&n(e)}),function(e){a(e)}},ge=function(e){var t=e.setTouched,r=e.onBlur;return function(e){t(!0),r&&r(e)}},me=function(e){var t=e.fieldType,r=e.maskedValue,n=e.multiple,i=e.value;switch(t){case"text":case"number":return r||0===r?r:"";case"textArea":return r||"";case"select":return i||(n?[]:"");case"checkbox":return!!i;default:return i}},be=function(e){switch(e){case"text":case"number":case"checkbox":return e;default:return}},Oe=function(e,t){if(t&&(null==e||""===e))return"string"==typeof t?t:"This field is required"};var je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=e.field,n=e.validate,a=e.asyncValidate,u=e.validationSchema,l=e.mask,c=e.maskWithCursorOffset,s=e.format,f=e.parse,d=e.formatter,p=e.parser,v=e.initialValue,h=e.validateOnChange,y=e.validateOnBlur,g=e.validateOnMount,O=e.asyncValidateOnBlur,j=e.maskOnBlur,S=e.allowEmptyString,w=e.onValueChange,F=e.notify,E=e.keepState,C=e.maintainCursor,A=e.debug,x=e.shadow,k=e.step,I=e.fieldType,R=e.multiple,B=e.onChange,D=e.onBlur,M=e.formController,N=e.relevant,G=e.required,L=e.keepStateIfRelevant,U=e.initialize,$=e.formatterDependencies,_=void 0===$?[]:$,q=fe(e,["field","validate","asyncValidate","validationSchema","mask","maskWithCursorOffset","format","parse","formatter","parser","initialValue","validateOnChange","validateOnBlur","validateOnMount","asyncValidateOnBlur","maskOnBlur","allowEmptyString","onValueChange","notify","keepState","maintainCursor","debug","shadow","step","fieldType","multiple","onChange","onBlur","formController","relevant","required","keepStateIfRelevant","initialize","formatterDependencies"]),z=Object(i.useState)(W()),J=le(z,1),Y=J[0],K=Object(i.useContext)(b),X=Object(i.useContext)(P),H=X||L,ee=V(),te=Object(i.useRef)(),ie=Object(i.useRef)(!0),ae=Object(i.useRef)(),ce=Object(i.useRef)(!1),se=function(){return!ce.current},Oe=function(){return ce.current};M&&(K=M.updater,ee=M.getFormApi());var je,Se,we=he(n,u,{required:G}),Fe=Object(i.useState)((function(){return K.getInitialValue(r)})),Ee=le(Fe,1),Ce=Ee[0],Ae=K.getSavedValue(r);(E||H)&&Ae?(de("Setting field ".concat(wt,"'s kept state"),Ae),je=Ae.value,Se=Ae.touched,ee.removeSavedState(wt)):je=null!=v?v:Ce;var xe=T(pe(je,l,d,p,U)),Pe=le(xe,3),Ve=Pe[0],ke=Pe[1],Ie=Pe[2],Te=T(g?we(Ve):void 0),Re=le(Te,3),Be=Re[0],De=Re[1],Me=Re[2],Ne=T(Se),Ge=le(Ne,3),Le=Ge[0],Ue=Ge[1],$e=Ge[2],_e=Object(i.useState)((function(){return ve(Ve,s,f,d)})),qe=le(_e,2),ze=qe[0],We=qe[1],Je=Object(i.useRef)();Je.current=ze;var Ye=Object(i.useRef)(v),Ke=Object(i.useRef)(r),Xe=Object(i.useRef)();Ye.current=v,Ke.current=r;var Ze=Object(i.useRef)(null),He=o.a.useMemo((function(){return t||Ze}),[]),Qe=re({value:Ve,inputRef:He,maintainCursor:!!C}),et=Qe.getCursor,tt=Qe.setCursor,rt=Qe.setCursorOffset,nt=function(){return!0},it=function(e){var t=N||nt,r=ee.getFullField(Ke.current)||Ke.current,n={path:r,parentPath:r.replace(/(.*)[.[].*/,"$1"),get:function(e,t){return m.get(e,t)}};return X&&X.relevant?t(e,n)&&X.relevant(e,n):t(e,n)},ot=T(it(ee.getValues())),at=le(ot,3),ut=at[0],lt=at[1],ct=at[2],st=function(e){return!X||!X.relevant||X.relevant(e)},ft=function(){var e=it(ee.getValues());return e!=ct()&&lt(e),e};Object(i.useEffect)((function(){ut||E||te.current.reset()}),[ut]);var dt=function(){return x?ee.getDerrivedValue(r):Ie()},pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preventUpdate;k&&ee.getStep()<k?(de("Setting ".concat(r,"'s error to undefined as we are not at that step")),De(void 0),K.setError(Y,void 0,!n)):(de("Setting ".concat(r,"'s error to ").concat(e)),De(e),K.setError(Y,e,!n))},vt=function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t;ce.current=!0,de("Setting ".concat(r," to ").concat(o)),U&&(o=U(o));var a=ee.getOptions(),u=o;if(""!==o||S||i.allowEmptyString||a.allowEmptyStrings||(o=void 0),"number"!==e.type&&"number"!==I||void 0===o||(o=+o),n&&n.target&&n.target.selectionStart&&tt(n.target.selectionStart),l&&!j&&(u=l(o,et()),o=l(o,et())),c&&!j){var v=c(o,et());u=v.value,o=v.value,rt(v.offset)}if(s&&f&&(o=f(o),u=s(o)),d){var y=Z(o,d);rt(y.offset),o=u=y.value}p&&(o=null!=o?p(o):o),we&&h&&!i.initial&&(de("Validating after change ".concat(r," ").concat(o)),pt(we(o,ee.getValues()))),ke(o),We(u),w&&w(o),K.setValue(Y,o,!i.preventUpdate)};ne((function(){te.current.setValue(Je.current)}),ue(_));var ht=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.preventUpdate;if(de("Field ".concat(r," has been touched")),we&&y&&!t&&e&&(de("Validating after blur ".concat(r," ").concat(dt())),pt(we(dt(),ee.getValues()))),a&&O&&!t&&e&&(de("Validating async after blur ".concat(r," ").concat(dt())),a(dt(),ee.getValues())),l&&j){var o=l(dt());ke(o),We(o),w&&w(o),K.setValue(Y,o,!i)}if(c&&j){var u=c(dt());rt(u.offset),ke(u.value),We(u.value),w&&w(u.value),K.setValue(Y,u.value,!i)}Ue(e),K.setTouched(Y,e,!i)},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.preventUpdate,r=pe(Ye.current||K.getInitialValue(Ke.current),l,d,p,U);vt(r,null,{initial:!0,preventUpdate:t}),pt(g?we(r):void 0,{preventUpdate:t}),ht(void 0,!0,{preventUpdate:t}),ce.current=!1},gt=function(e){we&&(de("Field validating ".concat(r," ").concat(dt())),pt(we(dt(),e||ee.getValues())))},mt=function(e){a&&(de("Field async validating ".concat(r," ").concat(dt())),a(dt(),e||ee.getValues()))},bt={setValue:vt,setTouched:ht,setError:pt,reset:yt,validate:gt,asyncValidate:mt,getValue:dt,getTouched:$e,getError:Me,getIsRelevant:ct,getDirty:Oe,getPristine:se,getFieldState:function(){return{value:dt(),touched:$e(),dirty:Oe(),pristine:se()}},relevant:it,multistepRelevant:st,checkRelevant:ft};te.current=bt;var Ot={value:Ve,error:Be,touched:Le,maskedValue:ze,isRelevant:ut,dirty:ce.current,pristine:!ce.current};x&&(Ot={error:Be,touched:Le}),de("Render",ee.getFullField(r),Ot),Q((function(){var e=ee.getFullField(Ke.current);return de("Register",Y,Ke.current),ae.current={field:e,fieldId:Y,fieldApi:bt,fieldState:Ot,notify:F,keepState:E,inMultistep:H,shadow:x},K.register(Y,ae.current),function(){var e=ee.getFullField(Ke.current);de("Deregister",Y,e),K.deregister(Y)}}),[]),Object(i.useEffect)((function(){var e=ee.getFullField(r);return ie.current?ie.current=!1:(de("Update",r,H),ae.current.field=e,K.update(Y,ae.current,Xe.current)),function(){Xe.current=e}}),[r]),Q((function(){A&&He&&(He.current.style.border="5px solid orange",setTimeout((function(){He.current.style.borderWidth="2px",He.current.style.borderStyle="inset",He.current.style.borderColor="initial",He.current.style.borderImage="initial"}),500))}));var jt=[].concat(ue(Object.values(Ot)),ue(Object.values(e)),ue(Object.values(q))),St=function(e){return Object(i.useMemo)((function(){return ut?e:null}),ue(jt))},wt=r,Ft=ye({fieldType:I,setValue:vt,onChange:B,multiple:R,ref:He}),Et=ge({setTouched:ht,onBlur:D}),Ct=me({fieldType:I,maskedValue:ze,multiple:R,value:Ve}),At=be(I);return{fieldState:Ot,fieldApi:bt,render:St,ref:He,userProps:oe(oe({},q),{},{multiple:R,onChange:B,onBlur:D,id:q.id||Y}),informed:oe({name:wt,multiple:R,onChange:Ft,onBlur:Et,value:Ct,ref:He,type:At,id:q.id||Y},q)}};function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var we=function(e){var t=o.a.forwardRef((function(t,r){var n=je(t,r),i=n.fieldState,a=n.fieldApi,u=n.render,l=n.ref,c=n.userProps;return u(o.a.createElement(e,Se({fieldApi:a,fieldState:i,field:t.field,forwardedRef:l,debug:t.debug,type:t.type},c)))}));return t.displayName="asField(".concat(L(e),")"),t};function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ee(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ce=u()("informed:Text\t"),Ae=function(e){var t=e.fieldApi,r=e.fieldState,n=Ee(e,["fieldApi","fieldState"]),i=r.maskedValue,a=t.setValue,u=t.setTouched,l=n.onChange,c=n.onBlur,s=n.field,f=(n.initialValue,n.forwardedRef),d=n.debug,p=n.label,v=(n.title,n.id),h=Ee(n,["onChange","onBlur","field","initialValue","forwardedRef","debug","label","title","id"]);return Ce("Render",s),Q((function(){d&&f&&(f.current.style.background="red",setTimeout((function(){f.current.style.background="white"}),500))})),o.a.createElement(o.a.Fragment,null,p?o.a.createElement("label",{htmlFor:v}," ",p," "):null,o.a.createElement("input",Fe({},h,{id:v,name:s,ref:f,value:i||0===i?i:"",onChange:function(e){a(e.target.value,e),l&&l(e)},onBlur:function(e){u(!0),c&&c(e)}})))},xe=we(Ae);function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ve(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ke=function(e){var t=e.fieldApi,r=e.fieldState,n=Ve(e,["fieldApi","fieldState"]),i=r.maskedValue,a=t.setValue,u=t.setTouched,l=n.onChange,c=n.onBlur,s=n.field,f=(n.initialValue,n.forwardedRef),d=n.debug,p=n.label,v=n.id,h=Ve(n,["onChange","onBlur","field","initialValue","forwardedRef","debug","label","id"]);return Q((function(){d&&f&&(f.current.style.background="red",setTimeout((function(){f.current.style.background="white"}),500))})),o.a.createElement(o.a.Fragment,null,p?o.a.createElement("label",{htmlFor:v}," ",p," "):null,o.a.createElement("textarea",Pe({},h,{id:v,name:s,ref:f,value:i||"",onChange:function(e){a(e.target.value,e),l&&l(e)},onBlur:function(e){u(!0),c&&c(e)}})))},Ie=we(ke);function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Re(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Be=u()("informed:Select\t"),De=function(e){var t=e.fieldApi,r=e.fieldState,n=Re(e,["fieldApi","fieldState"]),a=r.value,u=t.setTouched,l=n.onChange,c=n.onBlur,s=n.field,f=(n.initialValue,n.options),d=n.children,p=n.forwardedRef,v=n.debug,h=n.multiple,y=n.label,g=n.id,m=Re(n,["onChange","onBlur","field","initialValue","options","children","forwardedRef","debug","multiple","label","id"]),b=Object(i.useRef)();return Q((function(){v&&p&&(p.current.style.background="red",setTimeout((function(){p.current.style.background="white"}),500))})),Be("Render",s,a),o.a.createElement(o.a.Fragment,null,y?o.a.createElement("label",{htmlFor:g}," ",y," "):null,o.a.createElement("select",Te({},m,{id:g,multiple:h,name:s,ref:p||b,value:a||(h?[]:""),onChange:function(e){var r=Array.from((p||b).current).filter((function(e){return e.selected})).map((function(e){return e.value}));t.setValue(h?r:r[0]||""),l&&e&&l(e)},onBlur:function(e){u(!0),c&&c(e)}}),f?f.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value,disabled:e.disabled},e.label)})):d))},Me=we(De);function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Le=function(e){var t=e.fieldApi,r=e.fieldState,n=Ge(e,["fieldApi","fieldState"]),i=r.value,a=t.setValue,u=t.setTouched,l=n.onChange,c=n.onBlur,s=n.field,f=(n.initialValue,n.debug,n.forwardedRef),d=n.id,p=n.label,v=Ge(n,["onChange","onBlur","field","initialValue","debug","forwardedRef","id","label"]);return o.a.createElement(o.a.Fragment,null,p?o.a.createElement("label",{htmlFor:d}," ",p," "):null,o.a.createElement("input",Ne({},v,{id:d,name:s,ref:f,checked:!!i,onChange:function(e){a(e.target.checked),l&&l(e)},onBlur:function(e){u(!0),c&&c(e)},type:"checkbox"})))},Ue=we(Le);function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var _e=function(e){return o.a.forwardRef((function(t,r){return o.a.createElement(S.Consumer,null,(function(n){var i=n.radioGroupApi,a=n.radioGroupState;return o.a.createElement(e,$e({radioGroupApi:i,radioGroupState:a,ref:r},t))}))}))};function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ze(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var We=function(e){var t=e.radioGroupApi,r=e.radioGroupState,n=ze(e,["radioGroupApi","radioGroupState"]),i=r.value,a=t.setValue,u=t.setTouched,l=t.onChange,c=t.onBlur,s=n.value,f=n.onChange,d=n.onBlur,p=n.field,v=(n.initialValue,n.forwardedRef),h=ze(n,["value","onChange","onBlur","field","initialValue","forwardedRef"]);return o.a.createElement("input",qe({},h,{name:p,ref:v,value:s,checked:i===s,onChange:function(e){e.target.checked&&(a(s),f&&f(e),l&&l(e))},onBlur:function(e){u(!0),d&&d(e),c&&c(e)},type:"radio"}))},Je=_e(We);function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){Ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function He(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=nt(e);if(t){var i=nt(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return rt(this,r)}}function rt(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(a,e);var t,r,n,i=tt(a);function a(){return He(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.options,r=e.children;return o.a.createElement(S.Provider,{value:this.groupContext},t?t.map((function(e){return o.a.createElement("label",{key:e.value},e.label," ",o.a.createElement(Je,{value:e.value}))})):r)}},{key:"groupContext",get:function(){return{radioGroupApi:Xe(Xe({},this.props.fieldApi),{},{onChange:this.props.onChange,onBlur:this.props.onBlur}),radioGroupState:this.props.fieldState}}}])&&Qe(t.prototype,r),n&&Qe(t,n),a}(i.Component),ot=we(it);var at=function(){return Object(i.useContext)(F)},ut=function(){var e=at().add;return o.a.createElement("button",{onClick:function(){e()},type:"button"},"Add")};var lt=function(){return Object(i.useContext)(E)},ct=function(){var e=lt().remove;return o.a.createElement("button",{onClick:function(){e()},type:"button"},"Remove")};function st(e){return function(e){if(Array.isArray(e))return yt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ht(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||ht(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){if(e){if("string"==typeof e)return yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yt(e,t):void 0}}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var mt=u()("informed:useArrayField\t"),bt=function(e){var t=e.field,r=e.initialValue,n=e.validate,a=e.arrayFieldApiRef,u=gt(e,["field","initialValue","validate","arrayFieldApiRef"]),l=V(),c=vt(Object(i.useState)(new Map),1)[0],s=Object(i.useContext)(b),f=l.getFullField(t),d=s.getInitialValue(t)||r||[],p=l.getSavedValue(f)&&l.getSavedValue(f).value,v=vt(T(p||d),3),h=v[0],y=v[1],g=v[2],O=h?h.map((function(){return W()})):[],j=vt(T(O),3),S=j[0],E=j[1],C=j[2],A=Object(i.useMemo)((function(){return function(e,t){var r=null==C()?0:C().length;return n?n(e,r,t):void 0}})),x=je(dt({field:t,validate:n?A:void 0,shadow:!0},u)).fieldApi;Q((function(){var e=function(e){e!==f&&(mt("".concat(f," changed")),RegExp("".concat(f,"\\[[0-9]+\\]")).test(e)&&x.validate())};return l.emitter.on("value",e),function(){l.emitter.removeListener("value",e)}}),[t]);var P=function(e,r){mt("Swapping","".concat(t,"[").concat(e,"] and ").concat(t,"[").concat(r,"]"));var n=st(S);S[e]&&S[r]?(n[e]=S[r],n[r]=S[e]):console.warn("Attempted to swap ".concat(e," with ").concat(r," but one of them does not exist :(")),E(n)},k=function(){S.push(W()),E(st(S))},I=function(e){S.push(W()),E(st(S));var t=st(g());t[S.length-1]=e,y(t)},R=S.map((function(e,r){var n={remove:function(){return function(e){mt("EXPECTING REMOVAL OF","".concat(t,"[").concat(e,"] and ").concat(t,"[").concat(S.length-1,"]")),s.expectRemoval("".concat(t,"[").concat(e,"]")),s.expectRemoval("".concat(t,"[").concat(S.length-1,"]"));var r=S.slice(0,e).concat(S.slice(e+1,S.length));E(r);var n=g(),i=n.slice(0,e).concat(n.slice(e+1,n.length));y(i)}(r)}},i={initialValue:h&&h[r],key:e,field:"".concat(t,"[").concat(r,"]"),index:r};return dt(dt({arrayFieldItemApi:n,arrayFieldItemState:i},n),i)})),B={add:k,swap:P,addWithInitialValue:I,reset:function(){var e=s.getInitialValue(t)||r||[];y(e);var n=e?e.map((function(){return W()})):[];E(n)}};a&&(a.current=B);var D={fields:R,field:t},M=dt(dt({},s),{},{register:function(e,t){c.set(e,t);for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];s.register.apply(s,[e,t].concat(n))},deregister:function(e){c.delete(e);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];s.deregister.apply(s,[e].concat(r))},getInitialValue:function(e){if(RegExp("".concat(f,"\\[[0-9]+\\]")).test(e)){var r=e.replace(t,""),n=m.get(g(),r);return mt("Resetting ".concat(r," to ").concat(n)),n}return s.getInitialValue(e)}});return{render:function(e){return o.a.createElement(b.Provider,{value:M},o.a.createElement(F.Provider,{value:B},o.a.createElement(w.Provider,{value:D},e)))},add:k,swap:P,addWithInitialValue:I,fields:R,arrayFieldState:D,arrayFieldApi:B,field:t}};function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){St(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function St(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wt=function(e){var t=V();return Object(i.useMemo)((function(){return function(e,t){return jt(jt({},t),{},{getValue:function(r){return t.getValue("".concat(e,".").concat(r))},getTouched:function(r){return t.getTouched("".concat(e,".").concat(r))},getError:function(r){return t.getError("".concat(e,".").concat(r))},setValue:function(r,n){return t.setValue("".concat(e,".").concat(r),n)},setTouched:function(r,n){return t.setTouched("".concat(e,".").concat(r),n)},setError:function(r,n){return t.setError("".concat(e,".").concat(r),n)},getInitialValue:function(r){return t.getInitialValue("".concat(e,".").concat(r))},getSavedValue:function(r){return t.getSavedValue("".concat(e,".").concat(r))},getFullField:function(r){return"".concat(t.getFullField(e),".").concat(r)}})}(e,t)}),[e])};var Ft=function(){return Object(i.useContext)(O)},Et=function(e){var t=e.when,r=e.children;return t(Ft())?r:null};function Ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return At(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return At(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){Vt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kt(){return(kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function It(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Tt=function(e){var t=e.relevant,r=e.field,n=It(e,["relevant","field"]),i=V();if(t){var a=i.getFullField(r),u={path:a,parentPath:a.replace(/(.*)[.[].*/,"$1"),get:function(e,t){return m.get(e,t)}};return o.a.createElement(Et,{when:function(e){var r=e.values;return t(r,u)}},o.a.createElement(Rt,kt({field:r},n)))}return o.a.createElement(Rt,kt({field:r},n))},Rt=function(e){var t=e.children,r=It(e,["children"]),n=bt(r),i=n.render,o=n.arrayFieldState,a=n.arrayFieldApi,u=n.field;return i("function"==typeof t?t(Pt(Pt({field:u,arrayFieldApi:a,arrayFieldState:o},a),o)):t)},Bt=function(e){var t=e.arrayFieldItemState,r=e.arrayFieldItemApi,n=e.children,a=Object(i.useContext)(b),u=V(),l=Ct(Object(i.useState)(0),2),c=(l[0],l[1]),s=Ct(Object(i.useState)(new Map),1)[0],f=t.field,d=wt(f);Object(i.useEffect)((function(){var e=function(e){e.slice(0,-1!=e.lastIndexOf("[")?e.lastIndexOf("]")+1:e.length)===f&&c(Math.random())};return u.emitter.on("value",e),function(){u.emitter.removeListener("value",e)}}),[f]);var p,v,h,y,g=(p=u.getState(),v=p.values,h=p.errors,y=p.touched,{values:m.get(v,f),errors:m.get(h,f),touched:m.get(y,f)}),O=Pt(Pt({},a),{},{register:function(e,t,r){s.set(e,t),a.register(e,t,r)},deregister:function(e){s.delete(e);for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];a.deregister.apply(a,[e].concat(r))}}),j=Pt(Pt(Pt({},r),d),{},{reset:function(){s.forEach((function(e){e.fieldApi.reset()}))}}),S=Pt(Pt({},t),g);return"function"==typeof n?o.a.createElement(b.Provider,{value:O},o.a.createElement(E.Provider,{value:j},o.a.createElement(C.Provider,{value:S},n(Pt(Pt({arrayFieldItemApi:j,arrayFieldItemState:S},j),S))))):o.a.createElement(b.Provider,{value:O},o.a.createElement(E.Provider,{value:j},o.a.createElement(C.Provider,{value:S},n)))};Tt.Items=function(e){var t=e.children;return Object(i.useContext)(w).fields.map((function(e){var r=e.arrayFieldItemState,n=e.arrayFieldItemApi,i=r.key;return o.a.createElement(Bt,{key:i,arrayFieldItemApi:n,arrayFieldItemState:r},t)}))};var Dt=Tt,Mt=function(e){var t=e.components,r=Object(i.useContext)(b).fieldMap;return t?t.map((function(e,t){var n=e["ui:control"],i=r[n];return o.a.createElement(i,{key:"ui-comp-".concat(t)})})):null};function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Gt=u()("informed:FormFields\t"),Lt=function e(t){var r=t.schema,n=t.prefix,a=t.onlyValidateSchema,u=Object(i.useContext)(b).fieldMap;return Object(i.useMemo)((function(){return K(r,a,n).map((function(t,r){var n=t.field,i=t.props,a=t.type,l=t.properties,c=t.items,s=t.componentType,f=t.uiBefore,d=t.uiAfter,p=t.allOf,v=u[s];return Gt("Rendering Field",n,t),!v&&"object"===a&&l?o.a.createElement(e,{schema:t,prefix:n,key:"ScheamField-".concat(r)}):!v&&"array"===a&&c?o.a.createElement(_t,Nt({key:"ScheamField-".concat(r),field:n,items:c,uiBefore:f,uiAfter:d},i)):v&&"array"===s&&c&&"array"===a?o.a.createElement(v,Nt({key:"ScheamField-".concat(r),field:n,items:c,uiBefore:f,uiAfter:d},i)):"conditionals"===s?p.map((function(t){var n=t.then,i=t.if.properties;return o.a.createElement(Et,{key:"ScheamField-".concat(r),when:function(e){var t=e.values;return Object.keys(i).every((function(e){var r=i[e];return t[e]===r.const}))}},o.a.createElement(e,{schema:n}))})):v?o.a.createElement(v,Nt({key:"ScheamField-".concat(r),field:n},i)):null}))}),[r,n])};function Ut(){return(Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $t(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var _t=function(e){var t=e.field,r=e.items,n=e.uiBefore,i=e.uiAfter,a=$t(e,["field","items","uiBefore","uiAfter"]);return o.a.createElement(Dt,Ut({field:t},a),o.a.createElement(Mt,{components:n}),o.a.createElement(Dt.Items,null,(function(e){var t=e.field;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Mt,{components:r["ui:before"]}),o.a.createElement(Lt,{schema:r,prefix:t}),o.a.createElement(Mt,{components:r["ui:after"]}))})),o.a.createElement(Mt,{components:i}))},qt={select:Me,input:xe,textarea:Ie,checkbox:Ue,radio:ot,add:ut,remove:ct,array:_t};function zt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(r),!0).forEach((function(t){Kt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Ht=u()("informed:Controller\t"),Qt=function(){},er=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Xt(this,e),this.options=r,this.subscriptions=new Map;var n=r.ajv,i=r.schema,o=r.fieldMap;this.ajv=n?new n({allErrors:!0}):null,this.ajvValidate=n?this.ajv.compile(i):null,this.fieldMap=o||qt,this.fieldsById=new Map,this.fieldsByName={get:function(e){var r;return t.fieldsById.forEach((function(t){t&&t.field===e&&(r=t)})),r}},this.onScreen={},this.expectedRemovals={},this.pulledOut={},this.savedValues={},this.state={pristine:!0,dirty:!1,invalid:!1,submits:0,step:0,validating:0,submitting:!1,values:{},errors:{},touched:{}},this.dummyField={fieldApi:{setValue:Qt,setTouched:Qt,setError:Qt,reset:Qt,validate:Qt,getValue:Qt,getTouched:Qt,getError:Qt,getFieldState:Qt,checkRelevant:Qt,getPristine:Qt,getDirty:Qt}},this.deregister=this.deregister.bind(this),this.register=this.register.bind(this),this.getValue=this.getValue.bind(this),this.getTouched=this.getTouched.bind(this),this.getError=this.getError.bind(this),this.getErrors=this.getErrors.bind(this),this.setValue=this.setValue.bind(this),this.getValues=this.getValues.bind(this),this.getStep=this.getStep.bind(this),this.setStep=this.setStep.bind(this),this.back=this.back.bind(this),this.next=this.next.bind(this),this.setCurrent=this.setCurrent.bind(this),this.setTouched=this.setTouched.bind(this),this.setError=this.setError.bind(this),this.setFormError=this.setFormError.bind(this),this.submitForm=this.submitForm.bind(this),this.reset=this.reset.bind(this),this.update=this.update.bind(this),this.validate=this.validate.bind(this),this.screenValid=this.screenValid.bind(this),this.keyDown=this.keyDown.bind(this),this.getField=this.getField.bind(this),this.getInitialValue=this.getInitialValue.bind(this),this.setInitialValue=this.setInitialValue.bind(this),this.getOptions=this.getOptions.bind(this),this.getFormState=this.getFormState.bind(this),this.expectRemoval=this.expectRemoval.bind(this),this.getSavedValue=this.getSavedValue.bind(this),this.removeSavedState=this.removeSavedState.bind(this),this.getDerrivedValue=this.getDerrivedValue.bind(this),this.setValues=this.setValues.bind(this),this.resetField=this.resetField.bind(this),this.fieldExists=this.fieldExists.bind(this),this.validateField=this.validateField.bind(this),this.notify=this.notify.bind(this),this.validating=this.validating.bind(this),this.validated=this.validated.bind(this),this.getDirty=this.getDirty.bind(this),this.getPristine=this.getPristine.bind(this),this.on=this.on.bind(this),this.emit=this.emit.bind(this),this.removeListener=this.removeListener.bind(this),this.updater={register:this.register,deregister:this.deregister,getField:this.getField,update:this.update,fieldMap:this.fieldMap,setValue:function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.fieldsById.get(e);i.shadow||m.set(t.state.values,i.field,i.fieldApi.getValue()),i.fieldApi.relevant(t.state.values)||m.delete(t.state.values,i.field),t.fieldsById.forEach((function(e){var r=e.fieldApi.checkRelevant();e.fieldApi.multistepRelevant(t.state.values)&&(r||e.keepState)||(m.delete(t.state.values,e.field),m.delete(t.state.touched,e.field),m.delete(t.state.errors,e.field))})),n&&(t.emit("change"),t.emit("field",i.field),t.emit("value",i.field,r))},setTouched:function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.fieldsById.get(e);!i.shadow&&i.fieldApi.getIsRelevant()&&m.set(t.state.touched,i.field,i.fieldApi.getTouched()),i.shadow&&null!=i.fieldApi.getError()&&i.fieldApi.relevant(t.state.values)&&m.set(t.state.touched,i.field,i.fieldApi.getTouched()),n&&(t.emit("change"),t.emit("field",i.field))},setError:function(e,r){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.fieldsById.get(e);!i.shadow&&i.fieldApi.getIsRelevant()&&m.set(t.state.errors,i.field,i.fieldApi.getError());var o=m.get(t.state.errors,i.field);(i.shadow&&null!=i.fieldApi.getError()&&i.fieldApi.relevant(t.state.values)||i.shadow&&void 0===i.fieldApi.getError()&&i.fieldApi.relevant(t.state.values)&&"string"==typeof o)&&m.set(t.state.errors,i.field,i.fieldApi.getError()),n&&(t.emit("change"),t.emit("field",i.field))},expectRemoval:this.expectRemoval,getInitialValue:this.getInitialValue,getSavedValue:this.getSavedValue},this.formApi={setValue:this.setValue,setTouched:this.setTouched,setError:this.setError,setFormError:this.setFormError,setValues:this.setValues,setInitialValue:this.setInitialValue,getValue:this.getValue,getTouched:this.getTouched,getError:this.getError,reset:this.reset,submitForm:this.submitForm,getState:this.getFormState,getValues:this.getValues,getFullField:this.getFullField,fieldExists:this.fieldExists,getInitialValue:this.getInitialValue,validate:this.validate,validateField:this.validateField,screenValid:this.screenValid,resetField:this.resetField,getOptions:this.getOptions,emitter:this,getSavedValue:this.getSavedValue,removeSavedState:this.removeSavedState,getDerrivedValue:this.getDerrivedValue,getStep:this.getStep,setStep:this.setStep,next:this.next,back:this.back,setCurrent:this.setCurrent,validated:this.validated,validating:this.validating,getDirty:this.getDirty,getPristine:this.getPristine,getField:this.getField},this.on("value",(function(e){delete t.state.error,t.notify(e)}))}var t,r,n;return t=e,(r=[{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=this.subscriptions.get(e);i&&i.forEach((function(e){return e.apply(void 0,r)}))}},{key:"on",value:function(e,t){this.subscriptions.get(e)||this.subscriptions.set(e,new Set),this.subscriptions.get(e).add(t)}},{key:"removeListener",value:function(e,t){this.subscriptions.get(e).delete(t)}},{key:"setOptions",value:function(e){this.options=e}},{key:"setValue",value:function(e,t,r){this.getField(e).fieldApi.setValue(t,null,Yt({allowEmptyString:this.options.allowEmptyStrings},r))}},{key:"setTouched",value:function(e,t){this.getField(e).fieldApi.setTouched(t)}},{key:"setError",value:function(e,t){this.getField(e).fieldApi.setError(t)}},{key:"setFormError",value:function(e){this.state.error=e,this.emit("change")}},{key:"validating",value:function(){this.state.validating=this.state.validating+1,this.emit("change")}},{key:"validated",value:function(e,t){this.state.validating=this.state.validating-1,this.getError(e)||this.setError(e,t),this.state.validating>0||this.state.submitting&&(this.valid()?(Ht("Submit",this.state),this.emit("submit")):(Ht("Submit",this.state),this.emit("failure")),this.state.submitting=!1),this.emit("change")}},{key:"setStep",value:function(e){this.state.step=e,this.emit("change")}},{key:"setCurrent",value:function(e){this.state.Current=e,this.emit("change")}},{key:"back",value:function(e){this.state.step=this.state.step-1,this.state.Current=e,this.emit("change")}},{key:"next",value:function(e){this.validate(),this.screenValid()&&(this.state.step=this.state.step+1,this.state.Current=e),this.emit("change")}},{key:"setInitialValue",value:function(e,t){m.set(this.options.initialValues,e,t)}},{key:"getFormState",value:function(){return Ht("Returning form state"),Yt(Yt({},this.state),{},{pristine:this.pristine(),dirty:this.dirty(),invalid:this.invalid()})}},{key:"getFormApi",value:function(){return this.formApi}},{key:"getDerrivedValue",value:function(e){var t=this.getValues();return m.get(t,e)}},{key:"getValue",value:function(e){var t=this.getField(e).fieldApi.getValue();return Ht("Getting value for",e,t),t}},{key:"getTouched",value:function(e){var t=this.getField(e).fieldApi.getTouched();return Ht("Getting touched for",e,t),t}},{key:"getError",value:function(e){var t=this.getField(e).fieldApi.getError();return Ht("Getting error for",e,t),t}},{key:"getDirty",value:function(e){var t=this.getField(e).fieldApi.getDirty();return Ht("Getting dirty for",e,t),t}},{key:"getPristine",value:function(e){var t=this.getField(e).fieldApi.getPristine();return Ht("Getting pristine for",e,t),t}},{key:"getValues",value:function(){return Ht("Gettings values"),this.state.values}},{key:"getAllTouched",value:function(){return Ht("Gettings touched"),this.state.touched}},{key:"getErrors",value:function(){return Ht("Gettings errors"),this.state.errors}},{key:"getOptions",value:function(){return this.options}},{key:"getStep",value:function(){return this.state.step}},{key:"getSavedValue",value:function(e){var t=this.fieldsByName.get(e);return t&&t.shadow?m.get(this.savedValues,"shadow-".concat(e)):m.get(this.savedValues,e)}},{key:"removeSavedState",value:function(e){var t=this.fieldsByName.get(e);return t&&t.shadow?m.delete(this.savedValues,"shadow-".concat(e)):m.delete(this.savedValues,e)}},{key:"getFullField",value:function(e){return e}},{key:"getInitialValue",value:function(e){return m.get(this.options.initialValues,e)}},{key:"getField",value:function(e){Ht("Getting Field",e);var t=this.fieldsByName.get(e);return t||(console.warn("Attempting to get field ".concat(e," but it does not exist")),this.dummyField)}},{key:"notify",value:function(e){var t=this,r=this.getField(e);r&&r.notify&&r.notify.forEach((function(r){var n=".".concat(e),i="".concat(n.replace(/(.*)[.[].*/,"$1"),".").concat(r).slice(1),o=t.getField(i);o&&(Ht("Notifying",o.field),o.fieldApi.validate(),o.fieldApi.checkRelevant())}))}},{key:"validateField",value:function(e){this.getField(e).fieldApi.validate()}},{key:"resetField",value:function(e){this.getField(e).fieldApi.reset()}},{key:"fieldExists",value:function(e){return null!=this.fieldsByName.get(e)}},{key:"valid",value:function(){var e=this.getErrors();return!(!m.empty(e)||this.state.error)}},{key:"screenValid",value:function(){return!Object.entries(this.onScreen).some((function(e){return zt(e,2)[1].fieldApi.getError()}))}},{key:"invalid",value:function(){var e=this.getErrors();return!(m.empty(e)&&!this.state.error)}},{key:"pristine",value:function(){var e=!0;return this.fieldsById.forEach((function(t){t.fieldApi.getPristine()||(e=!1)})),e}},{key:"dirty",value:function(){return!this.pristine()}},{key:"reset",value:function(){Ht("Resetting"),this.fieldsById.forEach((function(e){e.fieldApi.reset({preventUpdate:!0})})),this.emit("reset"),this.emit("change")}},{key:"setValues",value:function(e){Ht("Setting values"),this.fieldsById.forEach((function(t){var r=m.get(e,t.field);void 0!==r&&t.fieldApi.setValue(r,null,{preventUpdate:!0})})),this.emit("change")}},{key:"validate",value:function(){var e=this;Ht("Validating all fields");var t=this.getValues();if(this.options.validationSchema){var r=$(this.options.validationSchema,t);this.fieldsById.forEach((function(t){if(m.has(r,t.field)){var n=m.get(r,t.field);e.setError(t.field,n)}else e.setError(t.field,void 0)}))}if(this.options.schema&&this.options.ajv){var n=z(this.ajvValidate,t);this.fieldsById.forEach((function(t){if(m.has(n,t.field)){var r=m.get(n,t.field);e.setError(t.field,r)}else e.setError(t.field,void 0)}))}if(this.fieldsById.forEach((function(e){e.fieldApi.validate(t),e.fieldApi.setTouched(!0,!0)})),this.options.validate){var i=this.options.validate(t);this.setFormError(i)}if(this.options.validateFields){var o=this.options.validateFields(t);this.fieldsById.forEach((function(t){if(m.has(o,t.field)){var r=m.get(o,t.field);e.setError(t.field,r)}}))}}},{key:"asyncValidate",value:function(){Ht("Async Validating all fields");var e=this.getValues();this.fieldsById.forEach((function(t){t.fieldApi.asyncValidate(e)}))}},{key:"keyDown",value:function(e){if(13==e.keyCode&&this.options.preventEnter)return e.preventDefault(e),!1}},{key:"submitForm",value:function(e){this.state.submits=this.state.submits+1,this.state.submitting=!0,!this.options.dontPreventDefault&&e&&e.preventDefault(e),this.validate(),this.emit("change"),this.asyncValidate(),this.state.validating>0||(this.valid()?(Ht("Submit",this.state),this.emit("submit")):(Ht("Submit",this.state),this.emit("failure")),this.state.submitting=!1,this.emit("change"))}},{key:"mount",value:function(){var e=this;this.fieldsById.forEach((function(t){e.emit("field",t.field)}))}},{key:"register",value:function(e,t,r){var n=t.field,i=t.state;Ht("Register ID:",e,"Name:",n,i,"Initial",r);var o,a=n.slice(0,-1!=n.lastIndexOf("[")?n.lastIndexOf("]")+1:n.length);this.fieldsById.forEach((function(e,t){e&&e.field===n&&(o=t)})),//!this.expectedRemovals[magicValue] &&
o&&(t.keepState||t.inMultistep)?(Ht("Already Registered",n),this.fieldsById.delete(o))://!this.expectedRemovals[magicValue] &&
!o||t.keepState&&t.inMultistep||console.warn("Check to make sure you have not registered two fields with the fieldName",n),Ht("Fields Registered",this.fieldsById.size),this.onScreen[e]=t,this.fieldsById.set(e,t),Ht("clearing expected removal",a),delete this.expectedRemovals[a],delete this.pulledOut[a],t.shadow||(this.updater.setValue(e,t.fieldApi.getValue(),!1),this.updater.setError(e,t.fieldApi.getError(),!1),this.updater.setTouched(e,t.fieldApi.getTouched(),!1),r||this.emit("change"),this.emit("field",n))}},{key:"deregister",value:function(e){var t=this.fieldsById.get(e),r=t.field;Ht("Deregister",e,r),delete this.onScreen[e];var n=function(e,t){var r=Object.keys(t).find((function(t){return e.includes(t)}));if(r)return e.slice(0,r.length)===r}(r,this.expectedRemovals),i=r.slice(0,-1!=r.lastIndexOf("[")?r.lastIndexOf("]")+1:r.length);!t.keepState&&!t.inMultistep||n||(Ht("Saving field ".concat(r,"'s value"),t.fieldApi.getFieldState()),t.shadow?m.set(this.savedValues,"shadow-".concat(r),t.fieldApi.getFieldState()):m.set(this.savedValues,r,t.fieldApi.getFieldState())),(n||!t.keepState&&!t.inMultistep||!t.fieldApi.getIsRelevant()&&!t.keepState)&&(Ht("Removing field",r),this.fieldsById.delete(e),n||(m.delete(this.state.values,r),m.delete(this.state.touched,r),m.delete(this.state.errors,r),t.shadow?m.delete(this.savedValues,"shadow-".concat(r)):m.delete(this.savedValues,r)),n&&this.pulledOut[i]&&(Ht("Pulling out",r,"with magic value",i),m.pullOut(this.state.values,i),m.pullOut(this.state.touched,i),m.pullOut(this.state.errors,i),m.pullOut(this.savedValues,i),delete this.pulledOut[i])),this.emit("change")}},{key:"expectRemoval",value:function(e){Ht("Expecting removal of",e),this.expectedRemovals[e]=!0,this.pulledOut[e]=!0}},{key:"update",value:function(e,t,r){Ht("Update",e,t.field,r,t.fieldState.value);var n=t.fieldApi.getValue(),i=t.fieldApi.getError(),o=t.fieldApi.getTouched(),a=this.fieldsByName.get(r);r&&!a&&(m.set(this.state.values,r),m.set(this.state.errors,r),m.set(this.state.touched,r)),m.set(this.state.values,t.field,n),m.set(this.state.errors,t.field,i),m.set(this.state.touched,t.field,o),this.emit("change")}}])&&Zt(t.prototype,r),n&&Zt(t,n),e}();function tr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var rr=u()("informed:FormProvider\t\t"),nr=function(e){var t=e.children,r=e.formApi,n=e.formController,i=e.formState,a=tr(e,["children","formApi","formController","formState"]);if(rr("Render FormProvider"),r)return rr("Render FormProvider with given values"),o.a.createElement(b.Provider,{value:n.updater},o.a.createElement(j.Provider,{value:r},o.a.createElement(O.Provider,{value:i},t)));rr("Render FormProvider with generated values");var u=lr(a);return o.a.createElement(b.Provider,{value:u.formController.updater},o.a.createElement(j.Provider,{value:u.formApi},o.a.createElement(O.Provider,{value:u.formState},t)))};function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return or(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return or(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ar(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ur=u()("informed:useForm\t\t"),lr=function(e){var t=e.dontPreventDefault,r=e.initialValues,n=e.validate,a=e.validateFields,u=e.allowEmptyStrings,l=e.preventEnter,c=e.getApi,s=e.apiRef,f=e.onChange,d=e.onReset,p=e.onSubmit,v=e.onValueChange,h=e.onSubmitFailure,y=e.validationSchema,g=e.schema,m=e.ajv,b=e.fieldMap,O=e.onlyValidateSchema,j=ar(e,["dontPreventDefault","initialValues","validate","validateFields","allowEmptyStrings","preventEnter","getApi","apiRef","onChange","onReset","onSubmit","onValueChange","onSubmitFailure","validationSchema","schema","ajv","fieldMap","onlyValidateSchema"]);ur("Render useForm");var S=Object(i.useMemo)((function(){return{dontPreventDefault:t,initialValues:r,validate:n,validateFields:a,allowEmptyStrings:u,preventEnter:l,validationSchema:y,schema:g,ajv:m,fieldMap:b}}),[t,r,n,a,u,l,y,g,m,b]),w=ir(Object(i.useState)((function(){return new er(S)})),1)[0];Object(i.useEffect)((function(){w.setOptions(S)}),[S]),Q((function(){w.mount()}),[]);var F=ir(Object(i.useState)((function(){return w.getFormState()})),2),E=F[0],C=F[1];Q((function(){var e=function(){return f&&f(w.getFormState())},t=function(){return d&&d()},r=function(){return p&&p(w.getFormState().values)},n=function(){return v&&v(w.getFormState().values)},i=function(){return h&&h(w.getFormState().errors)};return w.on("change",e),w.on("reset",t),w.on("submit",r),w.on("value",n),w.on("failure",i),function(){w.removeListener("change",e),w.removeListener("reset",t),w.removeListener("submit",r),w.removeListener("value",n),w.removeListener("failure",i)}}),[f,d,p,v,h]),Object(i.useState)((function(){w.on("change",(function(){ur("Setting form state"),C(w.getFormState())})),c&&c(w.getFormApi()),s&&(s.current=w.getFormApi())}));var A=ir(Object(i.useState)((function(){return w.getFormApi()})),1)[0];return{formApi:A,formState:E,formController:w,render:function(e){return o.a.createElement(nr,{formApi:A,formState:E,formController:w},o.a.createElement(o.a.Fragment,null,e||o.a.createElement(Lt,{schema:g,onlyValidateSchema:O})))},userProps:j}};function cr(){return(cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var fr=u()("informed:Form\t\t"),dr=function(e){var t=e.children,r=e.render,n=e.component,i=sr(e,["children","render","component"]);fr("Render FORM");var a,u=lr(i),l=u.formApi,c=u.formController,s=u.formState,f=u.render,d=u.userProps;return f(o.a.createElement("form",cr({},d,{onReset:c.reset,onSubmit:c.submitForm,onKeyDown:c.keyDown}),(a={formState:s,formApi:l},n?o.a.createElement(n,a,t):r?r(a):"function"==typeof t?t(a):t)))};function pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(r),!0).forEach((function(t){hr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yr=function(e){var t=e.scope,r=e.children,n=Object(i.useContext)(b),a=V(),u=Ft(),l=Object(i.useMemo)((function(){return function(e,t){return vr(vr({},t),{},{getValue:function(r){return t.getValue("".concat(e,".").concat(r))},getTouched:function(r){return t.getTouched("".concat(e,".").concat(r))},getError:function(r){return t.getError("".concat(e,".").concat(r))},setValue:function(r,n){return t.setValue("".concat(e,".").concat(r),n)},setTouched:function(r,n){return t.setTouched("".concat(e,".").concat(r),n)},setError:function(r,n){return t.setError("".concat(e,".").concat(r),n)},getInitialValue:function(r){return t.getInitialValue("".concat(e,".").concat(r))},getFullField:function(r){return"".concat(t.getFullField(e),".").concat(r)}})}(t,a)}),[t]),c=Object(i.useMemo)((function(){return function(e,t){var r=t.register,n=t.deregister,i=t.setValue,o=t.setTouched,a=t.setError,u=t.update,l=t.getField,c=t.expectRemoval,s=t.getInitialValue,f=t.fieldMap,d=t.getSavedValue;return{register:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r.apply(void 0,["".concat(e,".").concat(t)].concat(i))},deregister:function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n.apply(void 0,["".concat(e,".").concat(t)].concat(i))},update:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return u.apply(void 0,["".concat(e,".").concat(t)].concat(n))},setValue:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return i.apply(void 0,["".concat(e,".").concat(t)].concat(n))},setTouched:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o.apply(void 0,["".concat(e,".").concat(t)].concat(n))},setError:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return a.apply(void 0,["".concat(e,".").concat(t)].concat(n))},getField:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return l.apply(void 0,["".concat(e,".").concat(t)].concat(n))},expectRemoval:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return c.apply(void 0,["".concat(e,".").concat(t)].concat(n))},getInitialValue:function(t){return s("".concat(e,".").concat(t))},getSavedValue:function(t){return d("".concat(e,".").concat(t))},fieldMap:f}}(t,n)}),[t]);return o.a.createElement(b.Provider,{value:c},o.a.createElement(j.Provider,{value:l},o.a.createElement(O.Provider,{value:u},r)))},gr=function(e){var t=Ft(),r={};Object.keys(e).length>0?Object.keys(e).forEach((function(e){r[e]=t[e]})):r=t;var n=r,i=n.pristine,a=n.dirty,u=n.invalid,l=n.values,c=n.errors,s=n.touched,f=n.validating,d=n.submitting;return o.a.createElement("pre",null,o.a.createElement("code",null,JSON.stringify({pristine:i,dirty:a,invalid:u,values:l,errors:c,touched:s,validating:f,submitting:d},null,2)))};function mr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mr(Object(r),!0).forEach((function(t){Or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Or(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wr=function(e){var t=e.initialStep,r=e.multistepApiRef,n=V(),a=n.getValues,u=n.validate,l=n.screenValid,c=jr(Object(i.useState)(new Map),1)[0],s=Object(i.useRef)(0),f=jr(T({current:t,steps:[],goal:null}),3),d=f[0],p=f[1],v=f[2],h=jr(Object(i.useState)((function(){var e=function(){var e=v().current;return c.get(e)},t={getState:function(){return v()},getCurrentStep:e,getStep:function(e){return c.get(e)},getNumberOfSteps:function(){return c.size},next:function(){if(u(),l()){var t=(0,e().getNext)(),r="function"==typeof t?t(a()):t;r&&p((function(e){return br(br({},e),{},{current:r})}))}},back:function(){var t=(0,e().getPrevious)(),r="function"==typeof t?t(a()):t;r&&p((function(e){return br(br({},e),{},{current:r})}))},setCurrent:function(t){t&&(c.get(t).index<e().index?p((function(e){return br(br({},e),{},{current:t,goal:null})})):p((function(e){return br(br({},e),{},{goal:t})})))},register:function(e,t,r){r?(s.current=s.current+1,c.set(e,br(br({},t),{},{index:s.current}))):p((function(e){return br(br({},e),{},{steps:Array.from(c.keys())})}))},deregister:function(e){c.delete(e),s.current=s.current-1,p((function(e){return br(br({},e),{},{steps:Array.from(c.keys())})}))}};return r&&(r.current=t),t})),1)[0];return br(br(br({},h),d),{},{render:function(e){return o.a.createElement(x.Provider,{value:h},o.a.createElement(A.Provider,{value:d},e))}})};var Fr=function(){return Object(i.useContext)(A)};var Er=function(){return Object(i.useContext)(x)},Cr=function(e){var t=e.step,r=e.next,n=e.previous,a=e.relevant,u=Ft().values,l=Fr(),c=l.current,s=l.goal,f=Er(),d=f.register,p=f.deregister,v=f.next,h=t===c,y=!a||a(u),g=Object(i.useRef)(r),m=Object(i.useRef)(n),b=Object(i.useRef)();g.current=r,m.current=n,b.current=a,Object(i.useState)((function(){d(t,{name:t,getNext:function(){return g.current},getPrevious:function(){return m.current}},!0)})),Object(i.useEffect)((function(){return d(t,{name:t,getNext:function(){return g.current},getPrevious:function(){return m.current}}),function(){p(t)}}),[t]),Object(i.useEffect)((function(){s&&h&&s!==t&&v()}),[s,h]);return{isCurrent:h,isRelevant:y,step:t,render:function(e){return o.a.createElement(P.Provider,{value:{relevant:function(e){return!b.current||b.current(e)},multistep:!0}},h&&y?e:null)}}};function Ar(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xr(e){var t=e.children,r=Ar(e,["children"]),n=wr(r),i=n.render,o=Ar(n,["render"]);return i("function"==typeof t?t(o):t)}function Pr(){return(Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}xr.Step=function(e){var t=e.children,r=Ar(e,["children"]);return(0,Cr(r).render)(t)};var Vr=function(e){var t=e.field,r=Object(i.useContext)(b).fieldMap,n=V(),a=n.getFullField,u=n.getOptions,l=a(t),c=u().schema,s=X(l),f=m.get(c,s);if(!f)return null;var d=Y(t,f),p=d.props,v=r[d.componentType];return o.a.createElement(v,Pr({field:t},p))},kr=function(){var e=(0,V().getOptions)().schema;return o.a.createElement(Lt,{schema:e})};function Ir(){return(Ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Tr=function(e){return o.a.forwardRef((function(t,r){return o.a.createElement(j.Consumer,null,(function(n){return o.a.createElement(e,Ir({formApi:n,ref:r},t))}))}))};function Rr(){return(Rr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Br=function(e){return o.a.forwardRef((function(t,r){return o.a.createElement(O.Consumer,null,(function(n){return o.a.createElement(e,Rr({formState:n,ref:r},t))}))}))};var Dr=function(e){var t=V();return Object(i.useMemo)((function(){return function(e,t){return{getValue:function(){return e.getValue(t)},setValue:function(r){return e.setValue(t,r)},getTouched:function(){return e.getTouched(t)},setTouched:function(r){return e.setTouched(t,r)},getError:function(){return e.getError(t)},setError:function(r){return e.setError(t,r)},reset:function(){return e.resetField(t)},validate:function(){return e.validateField(t)},exists:function(){return e.fieldExists(t)},getDirty:function(){return e.getDirty(t)},getPristine:function(){return e.getPristine(t)},getFieldState:function(){return e.getField(t).fieldApi.getFieldState()}}}(t,e)}),[e])};function Mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Gr=function(e){var t=Dr(e),r=V(),n=Mr(o.a.useState(),2)[1],i=o.a.useCallback((function(){return n({})}),[]);return Q((function(){var t=function(t){t===e&&i()};return r.emitter.on("field",t),function(){r.emitter.removeListener("field",t)}}),[]),Q((function(){i()}),[]),t.getFieldState()||{}};function Lr(){return(Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Ur=function(e){return function(t){return function(r){var n=Gr(e);return o.a.createElement(t,Lr({fieldState:n},r))}}};function $r(){return($r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var _r=function(e){return function(t){return function(r){var n=Dr(e);return o.a.createElement(t,$r({fieldApi:n},r))}}};function qr(){return(qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zr(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Wr=function(e){var t=e.value,r=e.forwardedRef,n=e.children,i=zr(e,["value","forwardedRef","children"]);return o.a.createElement("option",qr({ref:r,value:t,key:t},i),n)},Jr=xe},react:function(e,t){e.exports=require("react")}})}));
//# sourceMappingURL=index.js.map